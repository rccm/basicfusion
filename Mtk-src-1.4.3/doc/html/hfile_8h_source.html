<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MISR Toolkit: win32/HDF-EOS5Includes/hfile.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="dir_282b0fb6b00cd2499b81c106755a0112.html">win32</a>      </li>
      <li><a class="el" href="dir_4aacb2ffdc73fbbb499d128b6d16aae6.html">HDF-EOS5Includes</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>hfile.h</h1>  </div>
</div>
<div class="contents">
<a href="hfile_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright by The HDF Group.                                               *</span>
<a name="l00003"></a>00003 <span class="comment"> * Copyright by the Board of Trustees of the University of Illinois.         *</span>
<a name="l00004"></a>00004 <span class="comment"> * All rights reserved.                                                      *</span>
<a name="l00005"></a>00005 <span class="comment"> *                                                                           *</span>
<a name="l00006"></a>00006 <span class="comment"> * This file is part of HDF.  The full HDF copyright notice, including       *</span>
<a name="l00007"></a>00007 <span class="comment"> * terms governing use, modification, and redistribution, is contained in    *</span>
<a name="l00008"></a>00008 <span class="comment"> * the files COPYING and Copyright.html.  COPYING can be found at the root   *</span>
<a name="l00009"></a>00009 <span class="comment"> * of the source code distribution tree; Copyright.html can be found at      *</span>
<a name="l00010"></a>00010 <span class="comment"> * http://hdfgroup.org/products/hdf4/doc/Copyright.html.  If you do not have *</span>
<a name="l00011"></a>00011 <span class="comment"> * access to either file, you may request a copy from help@hdfgroup.org.     *</span>
<a name="l00012"></a>00012 <span class="comment"> * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */</span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <span class="comment">/* $Id: hfile.h 5656 2011-06-14 19:28:08Z acheng $ */</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 <span class="comment">/*+ hfile.h</span>
<a name="l00017"></a>00017 <span class="comment">   *** Header for hfile.c, routines for low level data element I/O</span>
<a name="l00018"></a>00018 <span class="comment">   + */</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="preprocessor">#ifndef HFILE_H</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span><span class="preprocessor">#define HFILE_H</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &quot;<a class="code" href="_h4api__adpt_8h.html">H4api_adpt.h</a>&quot;</span>
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;<a class="code" href="tbbt_8h.html">tbbt.h</a>&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;<a class="code" href="bitvect_8h.html">bitvect.h</a>&quot;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;<a class="code" href="atom_8h.html">atom.h</a>&quot;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="linklist_8h.html">linklist.h</a>&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;<a class="code" href="dynarray_8h.html">dynarray.h</a>&quot;</span>
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="comment">/* Magic cookie for HDF data files */</span>
<a name="l00032"></a><a class="code" href="hfile_8h.html#a41b8881824e866f2f951a187c5b2bcbb">00032</a> <span class="preprocessor">#define MAGICLEN 4  </span><span class="comment">/* length */</span>
<a name="l00033"></a><a class="code" href="hfile_8h.html#ac67704100c4891608a8ab31d210becbf">00033</a> <span class="preprocessor">#define HDFMAGIC &quot;\016\003\023\001&quot;     </span><span class="comment">/* ^N^C^S^A */</span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="comment">/* sizes of elements in a file.  This is necessary because</span>
<a name="l00036"></a>00036 <span class="comment">   the size of variables need not be the same as in the file</span>
<a name="l00037"></a>00037 <span class="comment">   (cannot use sizeof) */</span>
<a name="l00038"></a><a class="code" href="hfile_8h.html#ad46c4e9f0193bdc208821edd7241916d">00038</a> <span class="preprocessor">#define DD_SZ 12    </span><span class="comment">/* 2+2+4+4 */</span>
<a name="l00039"></a><a class="code" href="hfile_8h.html#aaa48f392e66de783ccdb64157a11dd5a">00039</a> <span class="preprocessor">#define NDDS_SZ 2</span>
<a name="l00040"></a><a class="code" href="hfile_8h.html#aaed5ecc732b10740678eebc66ec4a240">00040</a> <span class="preprocessor"></span><span class="preprocessor">#define OFFSET_SZ 4</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span>
<a name="l00042"></a>00042 <span class="comment">/* invalid offset &amp; length to indicate a partially defined element </span>
<a name="l00043"></a>00043 <span class="comment">* written to the HDF file i.e. can handle the case where the the</span>
<a name="l00044"></a>00044 <span class="comment">* element is defined but not written out */</span>
<a name="l00045"></a><a class="code" href="hfile_8h.html#a56f8e75d6ce827dcee2b97f88852f991">00045</a> <span class="preprocessor">#define INVALID_OFFSET -1</span>
<a name="l00046"></a><a class="code" href="hfile_8h.html#a4292387367d272a89bfe9be891b6c9cd">00046</a> <span class="preprocessor"></span><span class="preprocessor">#define INVALID_LENGTH -1</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span>
<a name="l00048"></a>00048 
<a name="l00049"></a>00049 <span class="comment">/* ----------------------------- Version Tags ----------------------------- */</span>
<a name="l00050"></a>00050 <span class="comment">/* Library version numbers */</span>
<a name="l00051"></a>00051 
<a name="l00052"></a><a class="code" href="hfile_8h.html#aa350cec089db3bc9f81b671f4b1bb8b9">00052</a> <span class="preprocessor">#define LIBVER_MAJOR    4</span>
<a name="l00053"></a><a class="code" href="hfile_8h.html#ab533264324735233c08e1ceb7f6b9be2">00053</a> <span class="preprocessor"></span><span class="preprocessor">#define LIBVER_MINOR    2 </span>
<a name="l00054"></a><a class="code" href="hfile_8h.html#a428870cf9505852eb1cc1830bd721730">00054</a> <span class="preprocessor"></span><span class="preprocessor">#define LIBVER_RELEASE  6 </span>
<a name="l00055"></a><a class="code" href="hfile_8h.html#acb44067b680bfa81c797d08692ec01be">00055</a> <span class="preprocessor"></span><span class="preprocessor">#define LIBVER_SUBRELEASE &quot;&quot;   </span><span class="comment">/* For pre-releases like snap0       */</span>
<a name="l00056"></a>00056                                 <span class="comment">/* Empty string for real releases.           */</span>
<a name="l00057"></a><a class="code" href="hfile_8h.html#a2366cf7f73f48249ac00c6081c5414d7">00057</a> <span class="preprocessor">#define LIBVER_STRING   &quot;HDF Version 4.2 Release 6, June 14, 2011&quot;</span>
<a name="l00058"></a><a class="code" href="hfile_8h.html#ad64cd903af0d63eb99c0aadf491323f2">00058</a> <span class="preprocessor"></span><span class="preprocessor">#define LIBVSTR_LEN    80   </span><span class="comment">/* length of version string  */</span>
<a name="l00059"></a><a class="code" href="hfile_8h.html#a7b0973a3ebe12ea9ff140b5591877703">00059</a> <span class="preprocessor">#define LIBVER_LEN  92      </span><span class="comment">/* 4+4+4+80 = 92 */</span>
<a name="l00060"></a>00060 <span class="comment">/* end of version tags */</span>
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 <span class="comment">/* -------------------------- File I/O Functions -------------------------- */</span>
<a name="l00063"></a>00063 <span class="comment">/* FILELIB -- file library to use for file access: 1 stdio, 2 fcntl</span>
<a name="l00064"></a>00064 <span class="comment">   default to stdio library i.e. UNIX buffered I/O */</span>
<a name="l00065"></a>00065 
<a name="l00066"></a>00066 <span class="preprocessor">#ifndef FILELIB</span>
<a name="l00067"></a><a class="code" href="hfile_8h.html#ac8bc40836288493f689969e628d58a2a">00067</a> <span class="preprocessor"></span><span class="preprocessor">#   define FILELIB UNIXBUFIO    </span><span class="comment">/* UNIX buffered I/O is the default */</span>
<a name="l00068"></a>00068 <span class="preprocessor">#endif </span><span class="comment">/* FILELIB */</span>
<a name="l00069"></a>00069 
<a name="l00070"></a>00070 <span class="preprocessor">#if (FILELIB == UNIXBUFIO)</span>
<a name="l00071"></a>00071 <span class="preprocessor"></span><span class="comment">/* using C buffered file I/O routines to access files */</span>
<a name="l00072"></a>00072 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00073"></a><a class="code" href="hfile_8h.html#aa48de1a3dd88d9ecde5967adaa2c713a">00073</a> <span class="keyword">typedef</span> FILE *hdf_file_t;
<a name="l00074"></a>00074 <span class="preprocessor">#ifdef VMS</span>
<a name="l00075"></a>00075 <span class="preprocessor"></span><span class="comment">/* For VMS, use &quot;mbc=64&quot; to improve performance     */</span>
<a name="l00076"></a>00076 <span class="preprocessor">#   define HI_OPEN(p, a)       (((a) &amp; DFACC_WRITE) ? \</span>
<a name="l00077"></a>00077 <span class="preprocessor">                                fopen((p), &quot;r+&quot;, &quot;mbc=64&quot;) : \</span>
<a name="l00078"></a>00078 <span class="preprocessor">                                fopen((p), &quot;r&quot;, &quot;mbc=64&quot;))</span>
<a name="l00079"></a>00079 <span class="preprocessor"></span><span class="preprocessor">#   define HI_CREATE(p)        (fopen((p), &quot;w+&quot;, &quot;mbc=64&quot;))</span>
<a name="l00080"></a>00080 <span class="preprocessor"></span><span class="preprocessor">#else  </span><span class="comment">/*  !VMS  */</span>
<a name="l00081"></a>00081 <span class="preprocessor">#if defined SUN &amp;&amp; defined (__GNUC__)</span>
<a name="l00082"></a>00082 <span class="preprocessor"></span><span class="preprocessor">#   define HI_OPEN(p, a)       (((a) &amp; DFACC_WRITE) ? \</span>
<a name="l00083"></a>00083 <span class="preprocessor">                                fopen((p), &quot;r+&quot;) : fopen((p), &quot;r&quot;))</span>
<a name="l00084"></a>00084 <span class="preprocessor"></span><span class="preprocessor">#   define HI_CREATE(p)        (fopen((p), &quot;w+&quot;))</span>
<a name="l00085"></a>00085 <span class="preprocessor"></span><span class="preprocessor">#else </span><span class="comment">/* !SUN w/ GNU CC */</span>
<a name="l00086"></a>00086 <span class="preprocessor">#   define HI_OPEN(p, a)       (((a) &amp; DFACC_WRITE) ? \</span>
<a name="l00087"></a>00087 <span class="preprocessor">                                fopen((p), &quot;rb+&quot;) : fopen((p), &quot;rb&quot;))</span>
<a name="l00088"></a>00088 <span class="preprocessor"></span><span class="preprocessor">#   define HI_CREATE(p)        (fopen((p), &quot;wb+&quot;))</span>
<a name="l00089"></a>00089 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* !SUN w/ GNU CC */</span>
<a name="l00090"></a>00090 <span class="preprocessor">#endif </span><span class="comment">/* VMS */</span>
<a name="l00091"></a>00091 <span class="preprocessor">#   define HI_READ(f, b, n)    (((size_t)(n) == (size_t)fread((b), 1, (size_t)(n), (f))) ? \</span>
<a name="l00092"></a>00092 <span class="preprocessor">                                SUCCEED : FAIL)</span>
<a name="l00093"></a>00093 <span class="preprocessor"></span><span class="preprocessor">#   define HI_WRITE(f, b, n)   (((size_t)(n) == (size_t)fwrite((b), 1, (size_t)(n), (f))) ? \</span>
<a name="l00094"></a>00094 <span class="preprocessor">                                SUCCEED : FAIL)</span>
<a name="l00095"></a>00095 <span class="preprocessor"></span><span class="preprocessor">#   define HI_CLOSE(f)   (((f = ((fclose(f)==0) ? NULL : f))==NULL) ? SUCCEED:FAIL)</span>
<a name="l00096"></a>00096 <span class="preprocessor"></span><span class="preprocessor">#   define HI_FLUSH(f)   (fflush(f)==0 ? SUCCEED : FAIL)</span>
<a name="l00097"></a>00097 <span class="preprocessor"></span><span class="preprocessor">#   define HI_SEEK(f,o)  (fseek((f), (long)(o), SEEK_SET)==0 ? SUCCEED : FAIL)</span>
<a name="l00098"></a><a class="code" href="hfile_8h.html#a00fa2652ed42030ee760e863992ea4f3">00098</a> <span class="preprocessor"></span><span class="preprocessor">#   define HI_SEEK_CUR(f,o)  (fseek((f), (long)(o), SEEK_CUR)==0 ? SUCCEED : FAIL)</span>
<a name="l00099"></a>00099 <span class="preprocessor"></span><span class="preprocessor">#   define HI_SEEKEND(f) (fseek((f), (long)0, SEEK_END)==0 ? SUCCEED : FAIL)</span>
<a name="l00100"></a>00100 <span class="preprocessor"></span><span class="preprocessor">#   define HI_TELL(f)    (ftell(f))</span>
<a name="l00101"></a>00101 <span class="preprocessor"></span><span class="preprocessor">#   define OPENERR(f)    ((f) == (FILE *)NULL)</span>
<a name="l00102"></a>00102 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* FILELIB == UNIXBUFIO */</span>
<a name="l00103"></a>00103 
<a name="l00104"></a>00104 <span class="preprocessor">#if (FILELIB == UNIXUNBUFIO)</span>
<a name="l00105"></a>00105 <span class="preprocessor"></span><span class="comment">/* using UNIX unbuffered file I/O routines to access files */</span>
<a name="l00106"></a>00106 <span class="keyword">typedef</span> <span class="keywordtype">int</span> hdf_file_t;
<a name="l00107"></a>00107 <span class="preprocessor">#   define HI_OPEN(p, a)       (((a) &amp; DFACC_WRITE) ? \</span>
<a name="l00108"></a>00108 <span class="preprocessor">                                    open((p), O_RDWR) : open((p), O_RDONLY))</span>
<a name="l00109"></a>00109 <span class="preprocessor"></span><span class="preprocessor">#   define HI_CREATE(p)         (open((p), O_RDWR | O_CREAT | O_TRUNC, 0666))</span>
<a name="l00110"></a>00110 <span class="preprocessor"></span><span class="preprocessor">#   define HI_CLOSE(f)          (((f = ((close(f)==0) ? NULL : f))==NULL) ? SUCCEED:FAIL)</span>
<a name="l00111"></a>00111 <span class="preprocessor"></span><span class="preprocessor">#   define HI_FLUSH(f)          (SUCCEED)</span>
<a name="l00112"></a>00112 <span class="preprocessor"></span><span class="preprocessor">#   define HI_READ(f, b, n)     (((n)==read((f), (char *)(b), (n))) ? SUCCEED : FAIL)</span>
<a name="l00113"></a>00113 <span class="preprocessor"></span><span class="preprocessor">#   define HI_WRITE(f, b, n)    (((n)==write((f), (char *)(b), (n))) ? SUCCEED : FAIL)</span>
<a name="l00114"></a>00114 <span class="preprocessor"></span><span class="preprocessor">#   define HI_SEEK(f, o)        (lseek((f), (off_t)(o), SEEK_SET)!=(-1) ? SUCCEED : FAIL)</span>
<a name="l00115"></a>00115 <span class="preprocessor"></span><span class="preprocessor">#   define HI_SEEKEND(f)        (lseek((f), (off_t)0, SEEK_END)!=(-1) ? SUCCEED : FAIL)</span>
<a name="l00116"></a>00116 <span class="preprocessor"></span><span class="preprocessor">#   define HI_TELL(f)           (lseek((f), (off_t)0, SEEK_CUR))</span>
<a name="l00117"></a>00117 <span class="preprocessor"></span><span class="preprocessor">#   define OPENERR(f)           (f &lt; 0)</span>
<a name="l00118"></a>00118 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* FILELIB == UNIXUNBUFIO */</span>
<a name="l00119"></a>00119 
<a name="l00120"></a>00120 <span class="preprocessor">#if (FILELIB == MACIO)</span>
<a name="l00121"></a>00121 <span class="preprocessor"></span><span class="comment">/* using special routines to redirect to Mac Toolkit I/O */</span>
<a name="l00122"></a>00122 <span class="keyword">typedef</span> <span class="keywordtype">short</span> hdf_file_t;
<a name="l00123"></a><a class="code" href="hfile_8h.html#ab92996249d8335329ee1de10c244d9ef">00123</a> <span class="preprocessor">#   define HI_OPEN(x,y)         mopen(x,y)</span>
<a name="l00124"></a><a class="code" href="hfile_8h.html#a58c4e60906f773c22594f45fc2d907d8">00124</a> <span class="preprocessor"></span><span class="preprocessor">#   define HI_CREATE(name)      mopen(name, DFACC_CREATE)</span>
<a name="l00125"></a><a class="code" href="hfile_8h.html#a1bdf7cdeedb6ef5937642473d92550dc">00125</a> <span class="preprocessor"></span><span class="preprocessor">#   define HI_CLOSE(x)          (((x = ((mclose(x)==0) ? NULL : x))==NULL) ? SUCCEED:FAIL)</span>
<a name="l00126"></a><a class="code" href="hfile_8h.html#aea0d01dbf07dac749953a59dca2fa311">00126</a> <span class="preprocessor"></span><span class="preprocessor">#   define HI_FLUSH(a)          (SUCCEED)</span>
<a name="l00127"></a><a class="code" href="hfile_8h.html#af622d0c11197f6f5ebfa80d65360a041">00127</a> <span class="preprocessor"></span><span class="preprocessor">#   define HI_READ(a,b,c)       mread(a, (char *) b, (int32) c)</span>
<a name="l00128"></a><a class="code" href="hfile_8h.html#a5f196e2caa50227b2dea96c00cefde0a">00128</a> <span class="preprocessor"></span><span class="preprocessor">#   define HI_WRITE(a,b,c)      mwrite(a, (char *) b, (int32) c)</span>
<a name="l00129"></a><a class="code" href="hfile_8h.html#ab54dc1fce2f0d89af5d8c5f1097e5680">00129</a> <span class="preprocessor"></span><span class="preprocessor">#   define HI_SEEK(x,y)         mlseek(x, (int32 )y, 0)</span>
<a name="l00130"></a><a class="code" href="hfile_8h.html#a4c3f648afb076d6c7dd2605cf4765b02">00130</a> <span class="preprocessor"></span><span class="preprocessor">#   define HI_SEEKEND(x)        mlseek(x, 0L, 2)</span>
<a name="l00131"></a><a class="code" href="hfile_8h.html#ade2a0197a923e0fc3f45bd41ad66c6e3">00131</a> <span class="preprocessor"></span><span class="preprocessor">#   define HI_TELL(x)           mlseek(x,0L,1)</span>
<a name="l00132"></a><a class="code" href="hfile_8h.html#a487e5820a4e01974107b3c9daa8f6ef0">00132</a> <span class="preprocessor"></span><span class="preprocessor">#   define DF_OPENERR(f)        ((f) == -1)</span>
<a name="l00133"></a><a class="code" href="hfile_8h.html#a0281e69622a803cd1735affc8fe25e3f">00133</a> <span class="preprocessor"></span><span class="preprocessor">#   define OPENERR(f)           (f &lt; 0)</span>
<a name="l00134"></a>00134 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* FILELIB == MACIO */</span>
<a name="l00135"></a>00135 
<a name="l00136"></a>00136 
<a name="l00137"></a>00137 <span class="comment">/* ----------------------- Internal Data Structures ----------------------- */</span>
<a name="l00138"></a>00138 <span class="comment">/* The internal structure used to keep track of the files opened: an</span>
<a name="l00139"></a>00139 <span class="comment">   array of filerec_t structures, each has a linked list of ddblock_t.</span>
<a name="l00140"></a>00140 <span class="comment">   Each ddblock_t struct points to an array of dd_t structs. </span>
<a name="l00141"></a>00141 <span class="comment"></span>
<a name="l00142"></a>00142 <span class="comment">   File Header(4 bytes)</span>
<a name="l00143"></a>00143 <span class="comment">   ===================</span>
<a name="l00144"></a>00144 <span class="comment">   &lt;--- 32 bits -----&gt;</span>
<a name="l00145"></a>00145 <span class="comment">   ------------------</span>
<a name="l00146"></a>00146 <span class="comment">   |HDF magic number |</span>
<a name="l00147"></a>00147 <span class="comment">   ------------------</span>
<a name="l00148"></a>00148 <span class="comment"></span>
<a name="l00149"></a>00149 <span class="comment">   HDF magic number - 0x0e031301 (Hexadecimal)</span>
<a name="l00150"></a>00150 <span class="comment"></span>
<a name="l00151"></a>00151 <span class="comment">   Data Descriptor(DD - 12 bytes)</span>
<a name="l00152"></a>00152 <span class="comment">   ==============================</span>
<a name="l00153"></a>00153 <span class="comment">   &lt;-  16 bits -&gt; &lt;- 16 bits -&gt; &lt;- 32 bits -&gt; &lt;- 32 bits -&gt;</span>
<a name="l00154"></a>00154 <span class="comment">   --------------------------------------------------------</span>
<a name="l00155"></a>00155 <span class="comment">   |    Tag      | reference   |  Offset     |  Length    |</span>
<a name="l00156"></a>00156 <span class="comment">   |             | number      |             |            |</span>
<a name="l00157"></a>00157 <span class="comment">   --------------------------------------------------------</span>
<a name="l00158"></a>00158 <span class="comment">        \____________/</span>
<a name="l00159"></a>00159 <span class="comment">               V</span>
<a name="l00160"></a>00160 <span class="comment">        tag/ref (unique data indentifier in file)</span>
<a name="l00161"></a>00161 <span class="comment">   </span>
<a name="l00162"></a>00162 <span class="comment">   Tag  -- identifies the type of data, 16 bit unsigned integer whose</span>
<a name="l00163"></a>00163 <span class="comment">           value ranges from 1 - 65535. Tags are assigned by NCSA.</span>
<a name="l00164"></a>00164 <span class="comment">           The HDF tag space is divided as follows based on the 2 highest bits:</span>
<a name="l00165"></a>00165 <span class="comment"></span>
<a name="l00166"></a>00166 <span class="comment">              00: NCSA reserved ordinary tags</span>
<a name="l00167"></a>00167 <span class="comment">              01: NCSA reserved special tags(i.e. regular tags made into </span>
<a name="l00168"></a>00168 <span class="comment">                                                  linked-block, external, </span>
<a name="l00169"></a>00169 <span class="comment">                                                  compressed or chunked.)</span>
<a name="l00170"></a>00170 <span class="comment">              10, 11: User tags.</span>
<a name="l00171"></a>00171 <span class="comment"></span>
<a name="l00172"></a>00172 <span class="comment">           Current tag assingments are:</span>
<a name="l00173"></a>00173 <span class="comment">           00001 - 32767  - reserved for NCSA use</span>
<a name="l00174"></a>00174 <span class="comment">                            00001 - 16383 - NCSA regular tags</span>
<a name="l00175"></a>00175 <span class="comment">                            16384 - 32767 - NCSA special tags</span>
<a name="l00176"></a>00176 <span class="comment">           32768 - 64999  - user definable</span>
<a name="l00177"></a>00177 <span class="comment">           65000 - 65535  - reserved for expansion of format</span>
<a name="l00178"></a>00178 <span class="comment"></span>
<a name="l00179"></a>00179 <span class="comment">   Refererence number - 16 bit unsigned integer whose assignment is not</span>
<a name="l00180"></a>00180 <span class="comment">          gauranteed to be consecutive. Provides a way to distinguish </span>
<a name="l00181"></a>00181 <span class="comment">          elements with the same tag in the file.</span>
<a name="l00182"></a>00182 <span class="comment"></span>
<a name="l00183"></a>00183 <span class="comment">   Offset - Specifies the byte offset of the data element from the </span>
<a name="l00184"></a>00184 <span class="comment">            beginning of the file - 32 bit unsigned integer</span>
<a name="l00185"></a>00185 <span class="comment"></span>
<a name="l00186"></a>00186 <span class="comment">   Length - Indicates the byte length of the data element</span>
<a name="l00187"></a>00187 <span class="comment">            32 bit unsigned integer</span>
<a name="l00188"></a>00188 <span class="comment"></span>
<a name="l00189"></a>00189 <span class="comment">   Data Descriptor Header(DDH - 6 bytes)</span>
<a name="l00190"></a>00190 <span class="comment">   ====================================</span>
<a name="l00191"></a>00191 <span class="comment">   &lt;-  16 bits -&gt; &lt;- 32 bits -&gt;</span>
<a name="l00192"></a>00192 <span class="comment">   -----------------------------</span>
<a name="l00193"></a>00193 <span class="comment">   | Block Size  | Next Block  |</span>
<a name="l00194"></a>00194 <span class="comment">   -----------------------------</span>
<a name="l00195"></a>00195 <span class="comment"></span>
<a name="l00196"></a>00196 <span class="comment">   Block Size - Indicates the number of DD&#39;s in the DD Block,</span>
<a name="l00197"></a>00197 <span class="comment">                16 bit unsigned integer value</span>
<a name="l00198"></a>00198 <span class="comment">   Next Block - Gives the offset of the next DD Block. The last DD Block has</span>
<a name="l00199"></a>00199 <span class="comment">                a ZERO(0) in the &quot;Next Block&quot; field in the DDH.</span>
<a name="l00200"></a>00200 <span class="comment">                32 bit unsigned integer value</span>
<a name="l00201"></a>00201 <span class="comment"></span>
<a name="l00202"></a>00202 <span class="comment">   Data Descriptor Block(DDB - variable size)</span>
<a name="l00203"></a>00203 <span class="comment">   ==========================================</span>
<a name="l00204"></a>00204 <span class="comment">   &lt;- DD Header -&gt; &lt;--------------- DD&#39;s ---------------------&gt;</span>
<a name="l00205"></a>00205 <span class="comment">   --------------------------------------------------------...-</span>
<a name="l00206"></a>00206 <span class="comment">   |Block | Next  | DD | DD | DD | DD | DD | DD | DD | DD |...|</span>
<a name="l00207"></a>00207 <span class="comment">   |Size  | Block |    |    |    |    |    |    |    |    |   |</span>
<a name="l00208"></a>00208 <span class="comment">   --------------------------------------------------------...-</span>
<a name="l00209"></a>00209 <span class="comment">   &lt;-------------------------- DD Block ----------------------&gt;</span>
<a name="l00210"></a>00210 <span class="comment"></span>
<a name="l00211"></a>00211 <span class="comment">   Note: default number of DD&#39;s in a DD Block is 16</span>
<a name="l00212"></a>00212 <span class="comment"></span>
<a name="l00213"></a>00213 <span class="comment">   HDF file layout</span>
<a name="l00214"></a>00214 <span class="comment">   =============================</span>
<a name="l00215"></a>00215 <span class="comment">   (one example)</span>
<a name="l00216"></a>00216 <span class="comment">   ---------------------------------------------------------------------</span>
<a name="l00217"></a>00217 <span class="comment">   | FH | DD Block | Data | DD Block | Data | DD Block | Data | .....</span>
<a name="l00218"></a>00218 <span class="comment">   ---------------------------------------------------------------------</span>
<a name="l00219"></a>00219 <span class="comment"> </span>
<a name="l00220"></a>00220 <span class="comment">*/</span>
<a name="l00221"></a>00221 
<a name="l00222"></a>00222 <span class="comment">/* record of each data decsriptor */</span>
<a name="l00223"></a><a class="code" href="structdd__t.html">00223</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdd__t.html">dd_t</a>
<a name="l00224"></a>00224   {
<a name="l00225"></a><a class="code" href="structdd__t.html#a2086857884c33c2e06b50849c1b4a06f">00225</a>       uint16      <a class="code" href="structdd__t.html#a2086857884c33c2e06b50849c1b4a06f">tag</a>;          <span class="comment">/* Tag number of element i.e. type of data */</span>
<a name="l00226"></a><a class="code" href="structdd__t.html#a52abc3688f4873989d0b9d9f63f7bec8">00226</a>       uint16      <a class="code" href="structdd__t.html#a52abc3688f4873989d0b9d9f63f7bec8">ref</a>;          <span class="comment">/* Reference number of element */</span>
<a name="l00227"></a><a class="code" href="structdd__t.html#a2f5887b881cbf68eb76c2a2d3283efbb">00227</a>       int32       <a class="code" href="structdd__t.html#a2f5887b881cbf68eb76c2a2d3283efbb">length</a>;       <span class="comment">/* length of data element */</span>
<a name="l00228"></a><a class="code" href="structdd__t.html#a5a3d98134fb1ccd4620acf42a638d202">00228</a>       int32       <a class="code" href="structdd__t.html#a5a3d98134fb1ccd4620acf42a638d202">offset</a>;       <span class="comment">/* byte offset of data element from */</span>
<a name="l00229"></a><a class="code" href="structdd__t.html#a70dcef5ecfce8ea7d0d9726bbfd99fa4">00229</a>       <span class="keyword">struct </span><a class="code" href="structddblock__t.html">ddblock_t</a> *<a class="code" href="structdd__t.html#a70dcef5ecfce8ea7d0d9726bbfd99fa4">blk</a>;    <span class="comment">/* Pointer to the block this dd is in */</span>
<a name="l00230"></a>00230   }                             <span class="comment">/* beginning of file */</span>
<a name="l00231"></a>00231 <a class="code" href="structdd__t.html">dd_t</a>;
<a name="l00232"></a>00232 
<a name="l00233"></a>00233 <span class="comment">/* version tags */</span>
<a name="l00234"></a><a class="code" href="structversion__t.html">00234</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structversion__t.html">version_t</a>
<a name="l00235"></a>00235   {
<a name="l00236"></a><a class="code" href="structversion__t.html#a39dccc67df95aacbb76413b4195242f8">00236</a>       uint32      <a class="code" href="structversion__t.html#a39dccc67df95aacbb76413b4195242f8">majorv</a>;       <span class="comment">/* major version number */</span>
<a name="l00237"></a><a class="code" href="structversion__t.html#a787a4cbb680bd2dba326d194c2f82787">00237</a>       uint32      <a class="code" href="structversion__t.html#a787a4cbb680bd2dba326d194c2f82787">minorv</a>;       <span class="comment">/* minor version number */</span>
<a name="l00238"></a><a class="code" href="structversion__t.html#abc5584f789b5765d42bfbb2799c1f3ac">00238</a>       uint32      <a class="code" href="structversion__t.html#abc5584f789b5765d42bfbb2799c1f3ac">release</a>;      <span class="comment">/* release number */</span>
<a name="l00239"></a><a class="code" href="structversion__t.html#a60eb6c66ef2699c5eeff9e56f8313fb1">00239</a>       <span class="keywordtype">char</span>        <span class="keywordtype">string</span>[<a class="code" href="hfile_8h.html#ad64cd903af0d63eb99c0aadf491323f2">LIBVSTR_LEN</a> + 1];  <span class="comment">/* optional text description, len 80+1 */</span>
<a name="l00240"></a><a class="code" href="structversion__t.html#adba9405ba839e1e5a21cfae1c4cbfd40">00240</a>       int16       <a class="code" href="structversion__t.html#adba9405ba839e1e5a21cfae1c4cbfd40">modified</a>;     <span class="comment">/* indicates file was modified */</span>
<a name="l00241"></a>00241   }
<a name="l00242"></a>00242 <a class="code" href="structversion__t.html">version_t</a>;
<a name="l00243"></a>00243 
<a name="l00244"></a>00244 <span class="comment">/* record of a block of data descriptors, mirrors structure of a HDF file.  */</span>
<a name="l00245"></a><a class="code" href="structddblock__t.html">00245</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structddblock__t.html">ddblock_t</a>
<a name="l00246"></a>00246   {
<a name="l00247"></a><a class="code" href="structddblock__t.html#a6a14fe94a2117d12bf6f1df6c6c603c1">00247</a>       uintn       <a class="code" href="structddblock__t.html#a6a14fe94a2117d12bf6f1df6c6c603c1">dirty</a>;        <span class="comment">/* boolean: should this DD block be flushed? */</span>
<a name="l00248"></a><a class="code" href="structddblock__t.html#a35c94d45e26f58563c324535070730a7">00248</a>       int32       <a class="code" href="structddblock__t.html#a35c94d45e26f58563c324535070730a7">myoffset</a>;     <span class="comment">/* offset of this DD block in the file */</span>
<a name="l00249"></a><a class="code" href="structddblock__t.html#a6ddb07cc678eae0c774ee0a3d3eea126">00249</a>       int16       <a class="code" href="structddblock__t.html#a6ddb07cc678eae0c774ee0a3d3eea126">ndds</a>;         <span class="comment">/* number of dd&#39;s in this block */</span>
<a name="l00250"></a><a class="code" href="structddblock__t.html#a01c98c2e6235e30e709a4aedd3aa93de">00250</a>       int32       <a class="code" href="structddblock__t.html#a01c98c2e6235e30e709a4aedd3aa93de">nextoffset</a>;   <span class="comment">/* offset to the next ddblock in the file */</span>
<a name="l00251"></a><a class="code" href="structddblock__t.html#a7f59e6d473d28e752950a0564ed683d1">00251</a>       <span class="keyword">struct </span><a class="code" href="structfilerec__t.html">filerec_t</a> *<a class="code" href="structddblock__t.html#a7f59e6d473d28e752950a0564ed683d1">frec</a>;   <span class="comment">/* Pointer to the filerec this block is in */</span>
<a name="l00252"></a><a class="code" href="structddblock__t.html#ac68c2d0694e411cf6186e3944c83cd9b">00252</a>       <span class="keyword">struct </span><a class="code" href="structddblock__t.html">ddblock_t</a> *<a class="code" href="structddblock__t.html#ac68c2d0694e411cf6186e3944c83cd9b">next</a>;   <span class="comment">/* pointer to the next ddblock in memory */</span>
<a name="l00253"></a><a class="code" href="structddblock__t.html#afdc1a066f55378d67ddb21dc980c3faf">00253</a>       <span class="keyword">struct </span><a class="code" href="structddblock__t.html">ddblock_t</a> *<a class="code" href="structddblock__t.html#afdc1a066f55378d67ddb21dc980c3faf">prev</a>;   <span class="comment">/* Pointer to previous ddblock. */</span>
<a name="l00254"></a><a class="code" href="structddblock__t.html#aed58720521de7717a24a1106f5e5a494">00254</a>       <span class="keyword">struct </span><a class="code" href="structdd__t.html">dd_t</a> *<a class="code" href="structddblock__t.html#aed58720521de7717a24a1106f5e5a494">ddlist</a>;      <span class="comment">/* pointer to array of dd&#39;s */</span>
<a name="l00255"></a>00255   }
<a name="l00256"></a>00256 <a class="code" href="structddblock__t.html">ddblock_t</a>;
<a name="l00257"></a>00257 
<a name="l00258"></a>00258 <span class="comment">/* Tag tree node structure */</span>
<a name="l00259"></a><a class="code" href="structtag__info__str.html">00259</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structtag__info__str.html">tag_info_str</a>
<a name="l00260"></a>00260   {
<a name="l00261"></a><a class="code" href="structtag__info__str.html#a8f734f6988cffffb0ec5b720670d9bca">00261</a>       uint16 <a class="code" href="structtag__info__str.html#a8f734f6988cffffb0ec5b720670d9bca">tag</a>;       <span class="comment">/* tag value for this node */</span>
<a name="l00262"></a>00262       <span class="comment">/* Needs to be first in this structure */</span>
<a name="l00263"></a><a class="code" href="structtag__info__str.html#a79734927dc7ce70a350902263c99afb5">00263</a>       <a class="code" href="bitvect_8h.html#a7c6d6da42e13107e43a576570dd2feea">bv_ptr</a> <a class="code" href="structtag__info__str.html#a79734927dc7ce70a350902263c99afb5">b</a>;         <span class="comment">/* bit-vector to keep track of which refs are used */</span>
<a name="l00264"></a><a class="code" href="structtag__info__str.html#a1fd3c7bb6fcb69ba7784adab682f1c3c">00264</a>       <a class="code" href="dynarray_8h.html#a63dbe5453f90006f0541f862d3109a29">dynarr_p</a> <a class="code" href="structtag__info__str.html#a1fd3c7bb6fcb69ba7784adab682f1c3c">d</a>;       <span class="comment">/* dynarray of the refs for this tag */</span>
<a name="l00265"></a>00265   }<a class="code" href="structtag__info__str.html">tag_info</a>;
<a name="l00266"></a>00266 
<a name="l00267"></a>00267 <span class="comment">/* For determining what the last file operation was */</span>
<a name="l00268"></a><a class="code" href="hfile_8h.html#afd29fb07b40d838ea8b4a165c3463bcf">00268</a> <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l00269"></a>00269   {
<a name="l00270"></a><a class="code" href="hfile_8h.html#afd29fb07b40d838ea8b4a165c3463bcfad6b3d1164f7e7919bead57545f906756">00270</a>       <a class="code" href="hfile_8h.html#afd29fb07b40d838ea8b4a165c3463bcfad6b3d1164f7e7919bead57545f906756">H4_OP_UNKNOWN</a> = 0,   <span class="comment">/* Don&#39;t know what the last operation was (after fopen frex) */</span>
<a name="l00271"></a><a class="code" href="hfile_8h.html#afd29fb07b40d838ea8b4a165c3463bcfa8d3996bd01312f9ce5e51b441aa9c065">00271</a>       H4_OP_SEEK,          <span class="comment">/* Last operation was a seek */</span>
<a name="l00272"></a><a class="code" href="hfile_8h.html#afd29fb07b40d838ea8b4a165c3463bcfa3e945129cd92812e390697c4e802d995">00272</a>       H4_OP_WRITE,         <span class="comment">/* Last operation was a write */</span>
<a name="l00273"></a><a class="code" href="hfile_8h.html#afd29fb07b40d838ea8b4a165c3463bcfa263c76b38ed03062a2e79597b5d237ce">00273</a>       <a class="code" href="hfile_8h.html#afd29fb07b40d838ea8b4a165c3463bcfa263c76b38ed03062a2e79597b5d237ce">H4_OP_READ</a>           <span class="comment">/* Last operation was a read */</span>
<a name="l00274"></a>00274   }
<a name="l00275"></a>00275 fileop_t;
<a name="l00276"></a>00276 
<a name="l00277"></a>00277 <span class="comment">/* File record structure */</span>
<a name="l00278"></a><a class="code" href="structfilerec__t.html">00278</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfilerec__t.html">filerec_t</a>
<a name="l00279"></a>00279   {
<a name="l00280"></a><a class="code" href="structfilerec__t.html#acdffe2191e2cf73964bd4798149aae3b">00280</a>       <span class="keywordtype">char</span>       *<a class="code" href="structfilerec__t.html#acdffe2191e2cf73964bd4798149aae3b">path</a>;         <span class="comment">/* name of file */</span>
<a name="l00281"></a><a class="code" href="structfilerec__t.html#a6c46535c5c4fefde1267a8676555233c">00281</a>       <a class="code" href="hfile_8h.html#aa48de1a3dd88d9ecde5967adaa2c713a">hdf_file_t</a>  <a class="code" href="structfilerec__t.html#a6c46535c5c4fefde1267a8676555233c">file</a>;         <span class="comment">/* either file descriptor or pointer */</span>
<a name="l00282"></a><a class="code" href="structfilerec__t.html#a2c5af4b36ef87955aec71ca637efde28">00282</a>       uint16      <a class="code" href="structfilerec__t.html#a2c5af4b36ef87955aec71ca637efde28">maxref</a>;       <span class="comment">/* highest ref in this file */</span>
<a name="l00283"></a><a class="code" href="structfilerec__t.html#a6647b82482cb9eb4af0bf8ddd0c6278a">00283</a>       intn        <a class="code" href="structfilerec__t.html#a6647b82482cb9eb4af0bf8ddd0c6278a">access</a>;       <span class="comment">/* access mode */</span>
<a name="l00284"></a><a class="code" href="structfilerec__t.html#a2968538c35135889550a4ab20b871956">00284</a>       intn        <a class="code" href="structfilerec__t.html#a2968538c35135889550a4ab20b871956">refcount</a>;     <span class="comment">/* reference count / times opened */</span>
<a name="l00285"></a><a class="code" href="structfilerec__t.html#a3274c5aabe81ee8f730d55a2a085b12c">00285</a>       intn        <a class="code" href="structfilerec__t.html#a3274c5aabe81ee8f730d55a2a085b12c">attach</a>;       <span class="comment">/* number of access elts attached */</span>
<a name="l00286"></a><a class="code" href="structfilerec__t.html#a710962b89750c8339ee940ff6dee7a45">00286</a>       intn        <a class="code" href="structfilerec__t.html#a710962b89750c8339ee940ff6dee7a45">version_set</a>;  <span class="comment">/* version tag stuff */</span>
<a name="l00287"></a><a class="code" href="structfilerec__t.html#a7d7cd778d308791594597c9c71c65d2f">00287</a>       <a class="code" href="structversion__t.html">version_t</a>   <a class="code" href="structfilerec__t.html#a7d7cd778d308791594597c9c71c65d2f">version</a>;      <span class="comment">/* file version info */</span>
<a name="l00288"></a>00288 
<a name="l00289"></a>00289       <span class="comment">/* Seek caching info */</span>
<a name="l00290"></a><a class="code" href="structfilerec__t.html#a73c47023ec508d5e9d063769d8714cbd">00290</a>       int32      <a class="code" href="structfilerec__t.html#a73c47023ec508d5e9d063769d8714cbd">f_cur_off</a>;    <span class="comment">/* Current location in the file */</span>
<a name="l00291"></a><a class="code" href="structfilerec__t.html#ae39d2b161773f7074673354cf12a2431">00291</a>       <a class="code" href="hfile_8h.html#afd29fb07b40d838ea8b4a165c3463bcf">fileop_t</a>    <a class="code" href="structfilerec__t.html#ae39d2b161773f7074673354cf12a2431">last_op</a>;      <span class="comment">/* the last file operation performed */</span>
<a name="l00292"></a>00292 
<a name="l00293"></a>00293       <span class="comment">/* DD block caching info */</span>
<a name="l00294"></a><a class="code" href="structfilerec__t.html#a7f6a702427d635bceab73e5dec347437">00294</a>       intn        <a class="code" href="structfilerec__t.html#a7f6a702427d635bceab73e5dec347437">cache</a>;        <span class="comment">/* boolean: whether caching is on */</span>
<a name="l00295"></a><a class="code" href="structfilerec__t.html#aef281bc558b0483449796efcebc2b12d">00295</a>       intn        <a class="code" href="structfilerec__t.html#aef281bc558b0483449796efcebc2b12d">dirty</a>;        <span class="comment">/* boolean: if dd list needs to be flushed */</span>
<a name="l00296"></a><a class="code" href="structfilerec__t.html#aeb74f02b96495f8537f70416416c28b7">00296</a>       int32      <a class="code" href="structfilerec__t.html#aeb74f02b96495f8537f70416416c28b7">f_end_off</a>;    <span class="comment">/* offset of the end of the file */</span>
<a name="l00297"></a>00297 
<a name="l00298"></a>00298       <span class="comment">/* DD list pointers */</span>
<a name="l00299"></a><a class="code" href="structfilerec__t.html#ad6bfab40a590176deb093845aad648ce">00299</a>       <span class="keyword">struct </span><a class="code" href="structddblock__t.html">ddblock_t</a> *<a class="code" href="structfilerec__t.html#ad6bfab40a590176deb093845aad648ce">ddhead</a>; <span class="comment">/* head of ddblock list */</span>
<a name="l00300"></a><a class="code" href="structfilerec__t.html#ae0246086aa94d9527e2f1cd238a0149d">00300</a>       <span class="keyword">struct </span><a class="code" href="structddblock__t.html">ddblock_t</a> *<a class="code" href="structfilerec__t.html#ae0246086aa94d9527e2f1cd238a0149d">ddlast</a>; <span class="comment">/* end of ddblock list */</span>
<a name="l00301"></a>00301 
<a name="l00302"></a>00302       <span class="comment">/* NULL DD pointers (for fast lookup of DFTAG_NULL) */</span>
<a name="l00303"></a><a class="code" href="structfilerec__t.html#a7db4e38faedfc59993cf3b3834fc2a72">00303</a>       <span class="keyword">struct </span><a class="code" href="structddblock__t.html">ddblock_t</a> *<a class="code" href="structfilerec__t.html#a7db4e38faedfc59993cf3b3834fc2a72">ddnull</a>; <span class="comment">/* location of last ddblock with a DFTAG_NULL */</span>
<a name="l00304"></a><a class="code" href="structfilerec__t.html#a8270d42de56b77d04504416f731efb5e">00304</a>       int32       <a class="code" href="structfilerec__t.html#a8270d42de56b77d04504416f731efb5e">ddnull_idx</a>;   <span class="comment">/* offset of the last location with DFTAG_NULL */</span>
<a name="l00305"></a>00305 
<a name="l00306"></a>00306       <span class="comment">/* tag tree for file */</span>
<a name="l00307"></a><a class="code" href="structfilerec__t.html#a32958119d92cbd57ce07422f25e823ad">00307</a>       <a class="code" href="structtbbt__node.html">TBBT_TREE</a> *<a class="code" href="structfilerec__t.html#a32958119d92cbd57ce07422f25e823ad">tag_tree</a>;      <span class="comment">/* TBBT of the tags in the file */</span>
<a name="l00308"></a>00308 
<a name="l00309"></a>00309       <span class="comment">/* annotation stuff for file */</span>
<a name="l00310"></a><a class="code" href="structfilerec__t.html#a74190678129eb3160b835a9b2ac6ef04">00310</a>       intn       <a class="code" href="structfilerec__t.html#a74190678129eb3160b835a9b2ac6ef04">an_num</a>[4];   <span class="comment">/* Holds number of annotations found of each type */</span>
<a name="l00311"></a><a class="code" href="structfilerec__t.html#a9472374fc65f830da13324ef4de2f037">00311</a>       <a class="code" href="structtbbt__node.html">TBBT_TREE</a> *<a class="code" href="structfilerec__t.html#a9472374fc65f830da13324ef4de2f037">an_tree</a>[4];  <span class="comment">/* tbbt trees for each type of annotation in file </span>
<a name="l00312"></a>00312 <span class="comment">                               * i.e. file/data labels and descriptions.</span>
<a name="l00313"></a>00313 <span class="comment">                               * This is done for faster searching of annotations</span>
<a name="l00314"></a>00314 <span class="comment">                               * of a particular type. */</span>
<a name="l00315"></a>00315   }
<a name="l00316"></a>00316 <a class="code" href="structfilerec__t.html">filerec_t</a>;
<a name="l00317"></a>00317 
<a name="l00318"></a>00318 <span class="comment">/* bits for filerec_t &#39;dirty&#39; flag */</span>
<a name="l00319"></a><a class="code" href="hfile_8h.html#af24c55f4b20f989ce709827e2e889f76">00319</a> <span class="preprocessor">#define DDLIST_DIRTY   0x01     </span><span class="comment">/* mark whether to flush dirty DD blocks */</span>
<a name="l00320"></a><a class="code" href="hfile_8h.html#a8eeb4c6cf1591642d8e2067e94a0e760">00320</a> <span class="preprocessor">#define FILE_END_DIRTY 0x02     </span><span class="comment">/* indicate that the file needs to be extended */</span>
<a name="l00321"></a>00321 
<a name="l00322"></a>00322 <span class="comment">/* Each access element is associated with a tag/ref to keep track of</span>
<a name="l00323"></a>00323 <span class="comment">   the dd it is pointing at.  To facilitate searching for next dd&#39;s,</span>
<a name="l00324"></a>00324 <span class="comment">   instead of pointing directly to the dd, we point to the ddblock and</span>
<a name="l00325"></a>00325 <span class="comment">   index into the ddlist of that ddblock. */</span>
<a name="l00326"></a><a class="code" href="structaccrec__t.html">00326</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structaccrec__t.html">accrec_t</a>
<a name="l00327"></a>00327   {
<a name="l00328"></a>00328       <span class="comment">/* Flags for this access record */</span>
<a name="l00329"></a><a class="code" href="structaccrec__t.html#a0765a5a118a8d19e7ccce2c09768d740">00329</a>       intn        <a class="code" href="structaccrec__t.html#a0765a5a118a8d19e7ccce2c09768d740">appendable</a>;   <span class="comment">/* whether appends to the data are allowed */</span>
<a name="l00330"></a><a class="code" href="structaccrec__t.html#afeb3eb7f6a73b1cca436081598e4ba5d">00330</a>       intn        <a class="code" href="structaccrec__t.html#afeb3eb7f6a73b1cca436081598e4ba5d">special</a>;      <span class="comment">/* special element ? */</span>
<a name="l00331"></a><a class="code" href="structaccrec__t.html#a9d357fddd0bf0b337a07b35d559df485">00331</a>       intn        <a class="code" href="structaccrec__t.html#a9d357fddd0bf0b337a07b35d559df485">new_elem</a>;     <span class="comment">/* is a new element (i.e. no length set yet) */</span>
<a name="l00332"></a><a class="code" href="structaccrec__t.html#a6bde6797b495129d1bff534dc2ca734a">00332</a>       int32       <a class="code" href="structaccrec__t.html#a6bde6797b495129d1bff534dc2ca734a">block_size</a>;   <span class="comment">/* size of the blocks for linked-block element*/</span>
<a name="l00333"></a><a class="code" href="structaccrec__t.html#abcf768e3764bc791adc00df2dd54aacf">00333</a>       int32       <a class="code" href="structaccrec__t.html#abcf768e3764bc791adc00df2dd54aacf">num_blocks</a>;   <span class="comment">/* number blocks in the linked-block element */</span>
<a name="l00334"></a><a class="code" href="structaccrec__t.html#a9c6bb6bb7002caea0483e711ee9ed02e">00334</a>       uint32      <a class="code" href="structaccrec__t.html#a9c6bb6bb7002caea0483e711ee9ed02e">access</a>;       <span class="comment">/* access codes */</span>
<a name="l00335"></a><a class="code" href="structaccrec__t.html#aaba51283a2da73cdc8e599a7d31e7ef8">00335</a>       uintn       <a class="code" href="structaccrec__t.html#aaba51283a2da73cdc8e599a7d31e7ef8">access_type</a>;  <span class="comment">/* I/O access type: serial/parallel/... */</span>
<a name="l00336"></a><a class="code" href="structaccrec__t.html#a9185a98da0aa8b92af67d8588066b9ab">00336</a>       int32       <a class="code" href="structaccrec__t.html#a9185a98da0aa8b92af67d8588066b9ab">file_id</a>;      <span class="comment">/* id of attached file */</span>
<a name="l00337"></a><a class="code" href="structaccrec__t.html#a4cbd876fa659811b1562a26d9c83e7e9">00337</a>       <a class="code" href="atom_8h.html#a6ef70683ba3d54346cf3000a9c31fa96">atom_t</a>      <a class="code" href="structaccrec__t.html#a4cbd876fa659811b1562a26d9c83e7e9">ddid</a>;         <span class="comment">/* DD id for the DD attached to */</span>
<a name="l00338"></a><a class="code" href="structaccrec__t.html#a861dbd47a3c12ac0e80e808b8669394e">00338</a>       int32       <a class="code" href="structaccrec__t.html#a861dbd47a3c12ac0e80e808b8669394e">posn</a>;         <span class="comment">/* seek position with respect to start of element */</span>
<a name="l00339"></a><a class="code" href="structaccrec__t.html#a342bfceb2ed795659c8b0fd7174e97e5">00339</a>       <span class="keywordtype">void</span> *       <a class="code" href="structaccrec__t.html#a342bfceb2ed795659c8b0fd7174e97e5">special_info</a>; <span class="comment">/* special element info? */</span>
<a name="l00340"></a><a class="code" href="structaccrec__t.html#a68a620dbe49d3f9cf04a4522bdb05dfb">00340</a>       <span class="keyword">struct </span><a class="code" href="structfunclist__t.html">funclist_t</a> *<a class="code" href="structaccrec__t.html#a68a620dbe49d3f9cf04a4522bdb05dfb">special_func</a>;  <span class="comment">/* ptr to special function? */</span>
<a name="l00341"></a><a class="code" href="structaccrec__t.html#a20ca2b5ca458cd5446c5ca5a3ce2e30a">00341</a>       <span class="keyword">struct </span><a class="code" href="structaccrec__t.html">accrec_t</a> *<a class="code" href="structaccrec__t.html#a20ca2b5ca458cd5446c5ca5a3ce2e30a">next</a>;    <span class="comment">/* for free-list linking */</span>
<a name="l00342"></a>00342   }
<a name="l00343"></a>00343 <a class="code" href="structaccrec__t.html">accrec_t</a>;
<a name="l00344"></a>00344 
<a name="l00345"></a>00345 <span class="preprocessor">#ifdef HFILE_MASTER</span>
<a name="l00346"></a>00346 <span class="preprocessor"></span><span class="comment">/* Pointer to the access record node free list */</span>
<a name="l00347"></a>00347 <span class="keyword">static</span> <a class="code" href="structaccrec__t.html">accrec_t</a> *accrec_free_list=NULL;
<a name="l00348"></a>00348 <span class="preprocessor">#endif </span><span class="comment">/* HFILE_MASTER */</span>
<a name="l00349"></a>00349 
<a name="l00350"></a>00350 <span class="comment">/* this type is returned to applications programs or other special</span>
<a name="l00351"></a>00351 <span class="comment">   interfaces when they need to know information about a given</span>
<a name="l00352"></a>00352 <span class="comment">   special element.  This is all information that would not be returned</span>
<a name="l00353"></a>00353 <span class="comment">   via Hinquire().  This should probably be a union of structures. */</span>
<a name="l00354"></a><a class="code" href="structsp__info__block__t.html">00354</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structsp__info__block__t.html">sp_info_block_t</a>
<a name="l00355"></a>00355   {
<a name="l00356"></a><a class="code" href="structsp__info__block__t.html#a2bfeb38c8b7056253c2e889c55ae8c3f">00356</a>       int16       <a class="code" href="structsp__info__block__t.html#a2bfeb38c8b7056253c2e889c55ae8c3f">key</a>;          <span class="comment">/* type of special element this is */</span>
<a name="l00357"></a>00357 
<a name="l00358"></a>00358       <span class="comment">/* external elements */</span>
<a name="l00359"></a><a class="code" href="structsp__info__block__t.html#a2c13e7e1e5f5b2f6ac8ef2b356d3197d">00359</a>       int32       <a class="code" href="structsp__info__block__t.html#a2c13e7e1e5f5b2f6ac8ef2b356d3197d">offset</a>;       <span class="comment">/* offset in the file */</span>
<a name="l00360"></a><a class="code" href="structsp__info__block__t.html#acb8155a6f996107d616c0fa45d680e1f">00360</a>       <span class="keywordtype">char</span>       *<a class="code" href="structsp__info__block__t.html#acb8155a6f996107d616c0fa45d680e1f">path</a>;         <span class="comment">/* file name - should not be freed by user */</span>
<a name="l00361"></a>00361 
<a name="l00362"></a>00362       <span class="comment">/* linked blocks */</span>
<a name="l00363"></a><a class="code" href="structsp__info__block__t.html#aba1732c945ba5a53c5d0d90462f980ac">00363</a>       int32       <a class="code" href="structsp__info__block__t.html#aba1732c945ba5a53c5d0d90462f980ac">first_len</a>;    <span class="comment">/* length of first block */</span>
<a name="l00364"></a><a class="code" href="structsp__info__block__t.html#a89970c4a7b197ed4de2ba233e7d78076">00364</a>       int32       <a class="code" href="structsp__info__block__t.html#a89970c4a7b197ed4de2ba233e7d78076">block_len</a>;    <span class="comment">/* length of standard block */</span>
<a name="l00365"></a><a class="code" href="structsp__info__block__t.html#a08aa36f2f6fc675d74bd878b5150dbe4">00365</a>       int32       <a class="code" href="structsp__info__block__t.html#a08aa36f2f6fc675d74bd878b5150dbe4">nblocks</a>;      <span class="comment">/* number of blocks per chunk */</span>
<a name="l00366"></a>00366 
<a name="l00367"></a>00367       <span class="comment">/* compressed elements */</span>
<a name="l00368"></a><a class="code" href="structsp__info__block__t.html#a8614a20e410f8afb799cba2674b556f1">00368</a>       int32       <a class="code" href="structsp__info__block__t.html#a8614a20e410f8afb799cba2674b556f1">comp_type</a>;    <span class="comment">/* compression type */</span>
<a name="l00369"></a><a class="code" href="structsp__info__block__t.html#a4fb3b3e2bbc928fbc97c7cba227a7dcf">00369</a>       int32       <a class="code" href="structsp__info__block__t.html#a4fb3b3e2bbc928fbc97c7cba227a7dcf">model_type</a>;   <span class="comment">/* model type */</span>
<a name="l00370"></a><a class="code" href="structsp__info__block__t.html#af97e14b99bdd0c6583bda89207d2395d">00370</a>       int32       <a class="code" href="structsp__info__block__t.html#af97e14b99bdd0c6583bda89207d2395d">comp_size</a>;    <span class="comment">/* size of compressed information */</span>
<a name="l00371"></a>00371 
<a name="l00372"></a>00372       <span class="comment">/* variable-length linked blocks */</span>
<a name="l00373"></a><a class="code" href="structsp__info__block__t.html#ad5144355ac69a7f9d2b6bb3dd87dacff">00373</a>       int32       <a class="code" href="structsp__info__block__t.html#ad5144355ac69a7f9d2b6bb3dd87dacff">min_block</a>;    <span class="comment">/* the minimum block size */</span>
<a name="l00374"></a>00374 
<a name="l00375"></a>00375     <span class="comment">/* Chunked elements */</span>
<a name="l00376"></a><a class="code" href="structsp__info__block__t.html#a928052e0bda33f1a2c5797de17b6c546">00376</a>       int32       <a class="code" href="structsp__info__block__t.html#a928052e0bda33f1a2c5797de17b6c546">chunk_size</a>;   <span class="comment">/* logical size of chunks */</span>
<a name="l00377"></a><a class="code" href="structsp__info__block__t.html#a69ad0d1f465f45888912191b77d871a8">00377</a>       int32       <a class="code" href="structsp__info__block__t.html#a69ad0d1f465f45888912191b77d871a8">ndims</a>;        <span class="comment">/* number of dimensions */</span>
<a name="l00378"></a><a class="code" href="structsp__info__block__t.html#a0d5d76b4ea918f33dc5316a7f3248d82">00378</a>       int32       *<a class="code" href="structsp__info__block__t.html#a0d5d76b4ea918f33dc5316a7f3248d82">cdims</a>;       <span class="comment">/* array of chunk lengths for each dimension */</span>
<a name="l00379"></a>00379 
<a name="l00380"></a>00380       <span class="comment">/* Buffered elements */</span>
<a name="l00381"></a><a class="code" href="structsp__info__block__t.html#a8f538d7ae34649a865d5e32adc8420e0">00381</a>       int32       <a class="code" href="structsp__info__block__t.html#a8f538d7ae34649a865d5e32adc8420e0">buf_aid</a>;      <span class="comment">/* AID of element buffered */</span>
<a name="l00382"></a>00382   }
<a name="l00383"></a>00383 <a class="code" href="structsp__info__block__t.html">sp_info_block_t</a>;
<a name="l00384"></a>00384 
<a name="l00385"></a>00385 <span class="comment">/* a function table record for accessing special data elements.</span>
<a name="l00386"></a>00386 <span class="comment">   special data elements of a key could be accessed through the list</span>
<a name="l00387"></a>00387 <span class="comment">   of functions in array pointed to by tab. */</span>
<a name="l00388"></a><a class="code" href="structfunclist__t.html">00388</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfunclist__t.html">funclist_t</a>
<a name="l00389"></a>00389   {
<a name="l00390"></a><a class="code" href="structfunclist__t.html#a71cd42282be44e9a209d8c861a0e712c">00390</a>       int32       (*<a class="code" href="structfunclist__t.html#a71cd42282be44e9a209d8c861a0e712c">stread</a>) (<a class="code" href="structaccrec__t.html">accrec_t</a> * rec);
<a name="l00391"></a><a class="code" href="structfunclist__t.html#a21b1f983c183085c78bac600d607b4c6">00391</a>       int32       (*<a class="code" href="structfunclist__t.html#a21b1f983c183085c78bac600d607b4c6">stwrite</a>) (<a class="code" href="structaccrec__t.html">accrec_t</a> * rec);
<a name="l00392"></a><a class="code" href="structfunclist__t.html#abbf5dd2009a4d903a68dca24c89a42b0">00392</a>       int32       (*<a class="code" href="structfunclist__t.html#abbf5dd2009a4d903a68dca24c89a42b0">seek</a>) (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 <a class="code" href="hproto__fortran_8h.html#a501239f366369c8b59c6012db13f7cae">offset</a>, intn origin);
<a name="l00393"></a><a class="code" href="structfunclist__t.html#a9edccd008b5c60ac62ea7d3ab4d9269d">00393</a>       int32       (*<a class="code" href="structfunclist__t.html#a9edccd008b5c60ac62ea7d3ab4d9269d">inquire</a>) (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 *pfile_id,
<a name="l00394"></a>00394                                  uint16 *ptag, uint16 *pref, int32 *plength,
<a name="l00395"></a>00395                                int32 *poffset, int32 *pposn, int16 *paccess,
<a name="l00396"></a>00396                                      int16 *pspecial);
<a name="l00397"></a><a class="code" href="structfunclist__t.html#a3d44f4a1df3125e3665fdfc2a936db4e">00397</a>       int32       (*<a class="code" href="structfunclist__t.html#a3d44f4a1df3125e3665fdfc2a936db4e">read</a>) (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 length, <span class="keywordtype">void</span> * <a class="code" href="hproto__fortran_8h.html#aa379dc8ae39e55ae0c431a61a7d2f2bc">data</a>);
<a name="l00398"></a><a class="code" href="structfunclist__t.html#a241dc72864bf3b76549e998094b51b71">00398</a>       int32       (*<a class="code" href="structfunclist__t.html#a241dc72864bf3b76549e998094b51b71">write</a>) (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 length, <span class="keyword">const</span> <span class="keywordtype">void</span> * <a class="code" href="hproto__fortran_8h.html#aa379dc8ae39e55ae0c431a61a7d2f2bc">data</a>);
<a name="l00399"></a><a class="code" href="structfunclist__t.html#a30918810a9dd524b5b3092698f4d1579">00399</a>       intn        (*<a class="code" href="structfunclist__t.html#a30918810a9dd524b5b3092698f4d1579">endaccess</a>) (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec);
<a name="l00400"></a><a class="code" href="structfunclist__t.html#ab8dce8d2a69eaf1f95e3e3fb4e328962">00400</a>       int32       (*<a class="code" href="structfunclist__t.html#ab8dce8d2a69eaf1f95e3e3fb4e328962">info</a>) (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, <a class="code" href="structsp__info__block__t.html">sp_info_block_t</a> * <a class="code" href="structfunclist__t.html#ab8dce8d2a69eaf1f95e3e3fb4e328962">info</a>);
<a name="l00401"></a><a class="code" href="structfunclist__t.html#aeff07d7c369d6a085728813c5d7d49a9">00401</a>       int32       (*<a class="code" href="structfunclist__t.html#aeff07d7c369d6a085728813c5d7d49a9">reset</a>) (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, <a class="code" href="structsp__info__block__t.html">sp_info_block_t</a> * <a class="code" href="structfunclist__t.html#ab8dce8d2a69eaf1f95e3e3fb4e328962">info</a>);
<a name="l00402"></a>00402   }
<a name="l00403"></a>00403 <a class="code" href="structfunclist__t.html">funclist_t</a>;
<a name="l00404"></a>00404 
<a name="l00405"></a><a class="code" href="structfunctab__t.html">00405</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfunctab__t.html">functab_t</a>
<a name="l00406"></a>00406   {
<a name="l00407"></a><a class="code" href="structfunctab__t.html#a17383a18721bfdf6ffba265a4d63ef07">00407</a>       int16       <a class="code" href="structfunctab__t.html#a17383a18721bfdf6ffba265a4d63ef07">key</a>;          <span class="comment">/* the key for this type of special elt */</span>
<a name="l00408"></a><a class="code" href="structfunctab__t.html#a6f19eff89c50777f50b709acd11d3bc8">00408</a>       <a class="code" href="structfunclist__t.html">funclist_t</a> *<a class="code" href="structfunctab__t.html#a6f19eff89c50777f50b709acd11d3bc8">tab</a>;          <span class="comment">/* table of accessing functions */</span>
<a name="l00409"></a>00409   }
<a name="l00410"></a>00410 <a class="code" href="structfunctab__t.html">functab_t</a>;
<a name="l00411"></a>00411 
<a name="l00412"></a>00412 <span class="comment">/* ---------------------- ID Types and Manipulation ----------------------- */</span>
<a name="l00413"></a>00413 <span class="comment">/* each id, what ever the type, will be represented with a 32-bit word,</span>
<a name="l00414"></a>00414 <span class="comment">   the most-significant 16 bits is a number unique for type.  The less-</span>
<a name="l00415"></a>00415 <span class="comment">   significant 16 bits is an id unique to each type; in this, we use the</span>
<a name="l00416"></a>00416 <span class="comment">   internal slot number. */</span>
<a name="l00417"></a>00417 
<a name="l00418"></a><a class="code" href="hfile_8h.html#a5a2e209f5ad141131aa56c3373cffdd9">00418</a> <span class="preprocessor">#define FIDTYPE   1</span>
<a name="l00419"></a><a class="code" href="hfile_8h.html#a1e53e92c35e4b63738f4a69c81823952">00419</a> <span class="preprocessor"></span><span class="preprocessor">#define AIDTYPE   2</span>
<a name="l00420"></a><a class="code" href="hfile_8h.html#ae76d0bb41a7efdb4a4964323176044b4">00420</a> <span class="preprocessor"></span><span class="preprocessor">#define GROUPTYPE 3</span>
<a name="l00421"></a><a class="code" href="hfile_8h.html#ae91bc23cae9b38683479f3c9c3dfb444">00421</a> <span class="preprocessor"></span><span class="preprocessor">#define SDSTYPE   4</span>
<a name="l00422"></a><a class="code" href="hfile_8h.html#a9fb003004a1fc4a547bdd8c0e7a4a037">00422</a> <span class="preprocessor"></span><span class="preprocessor">#define DIMTYPE   5</span>
<a name="l00423"></a><a class="code" href="hfile_8h.html#a475ec021661a9c22bfe1aa95755f2404">00423</a> <span class="preprocessor"></span><span class="preprocessor">#define CDFTYPE   6</span>
<a name="l00424"></a><a class="code" href="hfile_8h.html#a69c8a4737a02f90d4cd8b58a6e08ccce">00424</a> <span class="preprocessor"></span><span class="preprocessor">#define VGIDTYPE  8     </span><span class="comment">/* also defined in vg.h for Vgroups */</span>
<a name="l00425"></a><a class="code" href="hfile_8h.html#a48b85cf04e35490939ff0215417584c1">00425</a> <span class="preprocessor">#define VSIDTYPE  9     </span><span class="comment">/* also defined in vg.h for Vsets */</span>
<a name="l00426"></a><a class="code" href="hfile_8h.html#a2d250fb54bf2d2135b1d4a0b949484b2">00426</a> <span class="preprocessor">#define BITTYPE   10    </span><span class="comment">/* For bit-accesses */</span>
<a name="l00427"></a><a class="code" href="hfile_8h.html#a6b585eb1bbd2c76b53dea6c54c2521a4">00427</a> <span class="preprocessor">#define GRIDTYPE  11    </span><span class="comment">/* for GR access */</span>
<a name="l00428"></a><a class="code" href="hfile_8h.html#a3c335b4efca39c0c18176cc416cc0be8">00428</a> <span class="preprocessor">#define RIIDTYPE  12    </span><span class="comment">/* for RI access */</span>
<a name="l00429"></a>00429 
<a name="l00430"></a><a class="code" href="hfile_8h.html#a6f22a816b08a920b26fbe7c8ea9eba1f">00430</a> <span class="preprocessor">#define BADFREC(r)  ((r)==NULL || (r)-&gt;refcount==0)</span>
<a name="l00431"></a>00431 <span class="preprocessor"></span>
<a name="l00432"></a>00432 <span class="comment">/* --------------------------- Special Elements --------------------------- */</span>
<a name="l00433"></a>00433 <span class="comment">/* The HDF tag space is divided as follows based on the 2 highest bits:</span>
<a name="l00434"></a>00434 <span class="comment">   00: NCSA reserved ordinary tags</span>
<a name="l00435"></a>00435 <span class="comment">   01: NCSA reserved special tags(e.g. linked-block, external, compressed,..)</span>
<a name="l00436"></a>00436 <span class="comment">   10, 11: User tags.</span>
<a name="l00437"></a>00437 <span class="comment"></span>
<a name="l00438"></a>00438 <span class="comment">   It is relatively cheap to operate with special tags within the NCSA</span>
<a name="l00439"></a>00439 <span class="comment">   reserved tags range. For users to specify special tags and their</span>
<a name="l00440"></a>00440 <span class="comment">   corresponding ordinary tag, the pair has to be added to the</span>
<a name="l00441"></a>00441 <span class="comment">   special_table in hfile.c and SPECIAL_TABLE must be defined. */</span>
<a name="l00442"></a>00442 
<a name="l00443"></a>00443 <span class="preprocessor">#ifdef SPECIAL_TABLE</span>
<a name="l00444"></a>00444 <span class="preprocessor"></span><span class="preprocessor">#define BASETAG(t)      (HDbase_tag(t))</span>
<a name="l00445"></a>00445 <span class="preprocessor"></span><span class="preprocessor">#define SPECIALTAG(t)   (HDis_special_tag(t))</span>
<a name="l00446"></a>00446 <span class="preprocessor"></span><span class="preprocessor">#define MKSPECIALTAG(t) (HDmake_special_tag(t))</span>
<a name="l00447"></a>00447 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00448"></a>00448 <span class="preprocessor"></span><span class="comment">/* This macro converts a (potentially) special tag into a normal tag */</span>
<a name="l00449"></a><a class="code" href="hfile_8h.html#a4bf512c5850f11b6abd89368dc985586">00449</a> <span class="preprocessor">#define BASETAG(t)      (uint16)((~(t) &amp; 0x8000) ? ((t) &amp; ~0x4000) : (t))</span>
<a name="l00450"></a>00450 <span class="preprocessor"></span><span class="comment">/* This macro checks if a tag is special */</span>
<a name="l00451"></a><a class="code" href="hfile_8h.html#a17f44ffa7436a4d9fcedcae5e2bf4825">00451</a> <span class="preprocessor">#define SPECIALTAG(t)   (uint16)((~(t) &amp; 0x8000) &amp;&amp; ((t) &amp; 0x4000))</span>
<a name="l00452"></a>00452 <span class="preprocessor"></span><span class="comment">/* This macro (potentially) converts a regular tag into a special tag */</span>
<a name="l00453"></a><a class="code" href="hfile_8h.html#a2f3e576461ae4096c93c3a2c2bced856">00453</a> <span class="preprocessor">#define MKSPECIALTAG(t) (uint16)((~(t) &amp; 0x8000) ? ((t) | 0x4000) : DFTAG_NULL)</span>
<a name="l00454"></a>00454 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/*SPECIAL_TABLE */</span>
<a name="l00455"></a>00455 
<a name="l00456"></a>00456 <span class="comment">/* -------------------------- H-Layer Prototypes -------------------------- */</span>
<a name="l00457"></a>00457 <span class="comment">/*</span>
<a name="l00458"></a>00458 <span class="comment">   ** Functions to get information of special elt from other access records.</span>
<a name="l00459"></a>00459 <span class="comment">   **   defined in hfile.c</span>
<a name="l00460"></a>00460 <span class="comment">   ** These should really be HD... routines, but they are only used within</span>
<a name="l00461"></a>00461 <span class="comment">   **   the H-layer...</span>
<a name="l00462"></a>00462 <span class="comment"> */</span>
<a name="l00463"></a>00463 
<a name="l00464"></a>00464 <span class="preprocessor">#if defined c_plusplus || defined __cplusplus</span>
<a name="l00465"></a>00465 <span class="preprocessor"></span><span class="keyword">extern</span>      <span class="stringliteral">&quot;C&quot;</span>
<a name="l00466"></a>00466 {
<a name="l00467"></a>00467 <span class="preprocessor">#endif                          </span><span class="comment">/* c_plusplus || __cplusplus */</span>
<a name="l00468"></a>00468 
<a name="l00469"></a>00469     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> <a class="code" href="structaccrec__t.html">accrec_t</a> *<a class="code" href="hfile_8h.html#a1b01355995d970d5ccf42d22d3e3ac83">HIget_access_rec</a>
<a name="l00470"></a>00470                 (<span class="keywordtype">void</span>);
<a name="l00471"></a>00471 
<a name="l00472"></a>00472     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> <span class="keywordtype">void</span> <a class="code" href="hfile_8h.html#a0093c79bbc25b0d135134df71ae050fe">HIrelease_accrec_node</a>(<a class="code" href="structaccrec__t.html">accrec_t</a> *acc);
<a name="l00473"></a>00473 
<a name="l00474"></a>00474     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> <span class="keywordtype">void</span> * <a class="code" href="hfile_8h.html#a380b1ec092e8f6ee64510d2bcbaedbca">HIgetspinfo</a>
<a name="l00475"></a>00475                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec);
<a name="l00476"></a>00476 
<a name="l00477"></a>00477     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> intn <a class="code" href="hfile_8h.html#ab97564c0508cfed9e020a2edf8817e8b">HPcompare_filerec_path</a>
<a name="l00478"></a>00478                 (<span class="keyword">const</span> <span class="keywordtype">void</span> * obj, <span class="keyword">const</span> <span class="keywordtype">void</span> * key);
<a name="l00479"></a>00479 
<a name="l00480"></a>00480     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> intn <a class="code" href="hfile_8h.html#af55f70bfbc8d6fbdd4dcca0d06d5e232">HPcompare_accrec_tagref</a>
<a name="l00481"></a>00481                 (<span class="keyword">const</span> <span class="keywordtype">void</span> * rec1, <span class="keyword">const</span> <span class="keywordtype">void</span> * rec2);
<a name="l00482"></a>00482 
<a name="l00483"></a>00483     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a16dcfcffcc91a42e0988f8beec724b03">HPgetdiskblock</a>
<a name="l00484"></a>00484                 (<a class="code" href="structfilerec__t.html">filerec_t</a> * file_rec, int32 <a class="code" href="hproto__fortran_8h.html#a64642581eea61ff226187c136f1175b9">block_size</a>, intn moveto);
<a name="l00485"></a>00485 
<a name="l00486"></a>00486     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> intn <a class="code" href="hfile_8h.html#aa9c9ea04f891de31e2772f6c1a87c281">HPfreediskblock</a>
<a name="l00487"></a>00487                 (<a class="code" href="structfilerec__t.html">filerec_t</a> * file_rec, int32 block_offset, int32 block_size);
<a name="l00488"></a>00488 
<a name="l00489"></a>00489     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> intn <a class="code" href="hfile_8h.html#a2f949acaa2692da55a00c11440eb66bd">HPisfile_in_use</a>
<a name="l00490"></a>00490                 (<span class="keyword">const</span> <span class="keywordtype">char</span> *path);
<a name="l00491"></a>00491 
<a name="l00492"></a>00492     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a9cd02a6556d889743404d9d52c839f39">HDcheck_empty</a>
<a name="l00493"></a>00493                 (int32 file_id, uint16 <a class="code" href="hproto__fortran_8h.html#a6c853f11310f8f224b6c4dd271082d31">tag</a>, uint16 <a class="code" href="hproto__fortran_8h.html#acd6980f63859f0cbd54e04f760a047c7">ref</a>, intn *emptySDS);
<a name="l00494"></a>00494 
<a name="l00495"></a>00495     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a15d7608d9ddfe60810e7d93621a09fd1">HDget_special_info</a>
<a name="l00496"></a>00496                 (int32 access_id, <a class="code" href="structsp__info__block__t.html">sp_info_block_t</a> * info_block);
<a name="l00497"></a>00497 
<a name="l00498"></a>00498     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> intn <a class="code" href="hfile_8h.html#a0680f44f3b922704e3a7fb91707461f3">HDgetspecinfo</a>
<a name="l00499"></a>00499                 (intn file_id, uint16 tag, uint16 ref, <a class="code" href="structsp__info__block__t.html">sp_info_block_t</a> *<a class="code" href="hproto__fortran_8h.html#a99bfa26318e8c5fcd9fe3f566acd0e5b">info</a>);
<a name="l00500"></a>00500 
<a name="l00501"></a>00501     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a75b3471f7fe7e76853f8bf5e162960ad">HDset_special_info</a>
<a name="l00502"></a>00502                 (int32 access_id, <a class="code" href="structsp__info__block__t.html">sp_info_block_t</a> * info_block);
<a name="l00503"></a>00503 
<a name="l00504"></a>00504     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> intn <a class="code" href="hfile_8h.html#a08c4f7f019f26ef2adba37f106dec9ae">HP_read</a>
<a name="l00505"></a>00505                 (<a class="code" href="structfilerec__t.html">filerec_t</a> *file_rec,<span class="keywordtype">void</span> * <a class="code" href="hproto__fortran_8h.html#a035682fcca8f69e388f79feccf15500f">buf</a>,int32 bytes);
<a name="l00506"></a>00506 
<a name="l00507"></a>00507     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> intn <a class="code" href="hfile_8h.html#a7e85afd1e4e01e97b7768a7e4cb40f07">HPseek</a>
<a name="l00508"></a>00508                 (<a class="code" href="structfilerec__t.html">filerec_t</a> *file_rec,int32 <a class="code" href="hproto__fortran_8h.html#a501239f366369c8b59c6012db13f7cae">offset</a>);
<a name="l00509"></a>00509 
<a name="l00510"></a>00510     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> intn <a class="code" href="hfile_8h.html#a8049b2a2168eb929f890b6b18654a322">HP_write</a>
<a name="l00511"></a>00511                 (<a class="code" href="structfilerec__t.html">filerec_t</a> *file_rec,<span class="keyword">const</span> <span class="keywordtype">void</span> * buf,int32 bytes);
<a name="l00512"></a>00512 
<a name="l00513"></a>00513     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a45f97ea29c282ddd0b345aea2bfd0a77">HPread_drec</a>
<a name="l00514"></a>00514                 (int32 file_id, <a class="code" href="atom_8h.html#a6ef70683ba3d54346cf3000a9c31fa96">atom_t</a> data_id, uint8** drec_buf);
<a name="l00515"></a>00515 
<a name="l00516"></a>00516     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> intn <a class="code" href="hfile_8h.html#addd40da2b2753fff72c6c9de986c8cd1">tagcompare</a>
<a name="l00517"></a>00517                 (<span class="keywordtype">void</span> * k1, <span class="keywordtype">void</span> * k2, intn cmparg);
<a name="l00518"></a>00518 
<a name="l00519"></a>00519     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> VOID <a class="code" href="hfile_8h.html#af70b8cd0c83bd8f75bb440a5ddd84349">tagdestroynode</a>
<a name="l00520"></a>00520                 (<span class="keywordtype">void</span> * <a class="code" href="hproto__fortran_8h.html#ade3cf863da06223aba409cdb27a9e35f">n</a>);
<a name="l00521"></a>00521 
<a name="l00522"></a>00522 <span class="comment">/*</span>
<a name="l00523"></a>00523 <span class="comment">   ** from hblocks.c</span>
<a name="l00524"></a>00524 <span class="comment"> */</span>
<a name="l00525"></a>00525     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a2f54f896ebae7f73977cf6a28d8426b1">HLPstread</a>
<a name="l00526"></a>00526                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec);
<a name="l00527"></a>00527 
<a name="l00528"></a>00528     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a340ef7dbcc217a5907475dc412663b81">HLPstwrite</a>
<a name="l00529"></a>00529                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec);
<a name="l00530"></a>00530 
<a name="l00531"></a>00531     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a53622faef2b92ff007ab98dba33b42ec">HLPseek</a>
<a name="l00532"></a>00532                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 offset, <span class="keywordtype">int</span> <a class="code" href="cproj__prototypes_8h.html#a5de668bb0cfbc793ef0c76f7d2172181">origin</a>);
<a name="l00533"></a>00533 
<a name="l00534"></a>00534     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a9a01b28757158dc48398383e1b24f907">HLPread</a>
<a name="l00535"></a>00535                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 length, <span class="keywordtype">void</span> * <a class="code" href="hproto__fortran_8h.html#aa379dc8ae39e55ae0c431a61a7d2f2bc">data</a>);
<a name="l00536"></a>00536 
<a name="l00537"></a>00537     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a6dfc241c450ca317aded21bcac5d0610">HLPwrite</a>
<a name="l00538"></a>00538                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 length, <span class="keyword">const</span> <span class="keywordtype">void</span> * data);
<a name="l00539"></a>00539 
<a name="l00540"></a>00540     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a82c7c9ec99cd60188d3828af7fc4e9e9">HLPinquire</a>
<a name="l00541"></a>00541                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 *pfile_id, uint16 *ptag, uint16 *pref,
<a name="l00542"></a>00542                int32 *plength, int32 *poffset, int32 *pposn, int16 *paccess,
<a name="l00543"></a>00543                  int16 *pspecial);
<a name="l00544"></a>00544 
<a name="l00545"></a>00545     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> intn <a class="code" href="hfile_8h.html#a17dfe4b23804a39b0f2758c54f6f085f">HLPendaccess</a>
<a name="l00546"></a>00546                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec);
<a name="l00547"></a>00547 
<a name="l00548"></a>00548     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#aa39916c9aa37deb236d7527098f48128">HLPcloseAID</a>
<a name="l00549"></a>00549                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec);
<a name="l00550"></a>00550 
<a name="l00551"></a>00551     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a6b70c56cbe51c5dcf403d9bf21523b73">HLPinfo</a>
<a name="l00552"></a>00552                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, <a class="code" href="structsp__info__block__t.html">sp_info_block_t</a> * info_block);
<a name="l00553"></a>00553 
<a name="l00554"></a>00554 <span class="comment">/*</span>
<a name="l00555"></a>00555 <span class="comment">   ** from hextelt.c</span>
<a name="l00556"></a>00556 <span class="comment"> */</span>
<a name="l00557"></a>00557     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a4c11078068298d27090e5d467463baa2">HXPstread</a>
<a name="l00558"></a>00558                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * rec);
<a name="l00559"></a>00559 
<a name="l00560"></a>00560     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#ab5d23e3ba685fcf6528b2f5dbe4808cb">HXPstwrite</a>
<a name="l00561"></a>00561                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * rec);
<a name="l00562"></a>00562 
<a name="l00563"></a>00563     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a0fa6a5e7362a7dadd8062986e7a3f400">HXPseek</a>
<a name="l00564"></a>00564                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 offset, <span class="keywordtype">int</span> origin);
<a name="l00565"></a>00565 
<a name="l00566"></a>00566     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#ad0986bf74a2801a49b23abea1698a55e">HXPread</a>
<a name="l00567"></a>00567                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 length, <span class="keywordtype">void</span> * data);
<a name="l00568"></a>00568 
<a name="l00569"></a>00569     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a3be192e3f8873375df56ef4ce6ed4ce9">HXPwrite</a>
<a name="l00570"></a>00570                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 length, <span class="keyword">const</span> <span class="keywordtype">void</span> * data);
<a name="l00571"></a>00571 
<a name="l00572"></a>00572     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#acf3d2dd90302389db448cd1e5e3d3207">HXPinquire</a>
<a name="l00573"></a>00573                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 *pfile_id, uint16 *ptag, uint16 *pref,
<a name="l00574"></a>00574                int32 *plength, int32 *poffset, int32 *pposn, int16 *paccess,
<a name="l00575"></a>00575                  int16 *pspecial);
<a name="l00576"></a>00576 
<a name="l00577"></a>00577     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> intn <a class="code" href="hfile_8h.html#a46b3bb4561ec283eebe7b7292fa02633">HXPendaccess</a>
<a name="l00578"></a>00578                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec);
<a name="l00579"></a>00579 
<a name="l00580"></a>00580     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a2059d8c05fe9cc7513cc95de2ff6974f">HXPcloseAID</a>
<a name="l00581"></a>00581                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec);
<a name="l00582"></a>00582 
<a name="l00583"></a>00583     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#ab68b85a0e6be003233a0e2b6ad05125e">HXPinfo</a>
<a name="l00584"></a>00584                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, <a class="code" href="structsp__info__block__t.html">sp_info_block_t</a> * info_block);
<a name="l00585"></a>00585 
<a name="l00586"></a>00586     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a9760c4f46b06ca5a339c56e545dd5198">HXPreset</a>
<a name="l00587"></a>00587                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, <a class="code" href="structsp__info__block__t.html">sp_info_block_t</a> * info_block);
<a name="l00588"></a>00588 
<a name="l00589"></a>00589     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> intn <a class="code" href="hfile_8h.html#ac7ab2b47a492850051e32d07386be6a1">HXPsetaccesstype</a>
<a name="l00590"></a>00590                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec);
<a name="l00591"></a>00591 
<a name="l00592"></a>00592     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> intn <a class="code" href="hfile_8h.html#a4244d72d1a1b07d48e577d9a840e7d8e">HXPshutdown</a>
<a name="l00593"></a>00593                 (<span class="keywordtype">void</span>);
<a name="l00594"></a>00594 
<a name="l00595"></a>00595 <span class="comment">/*</span>
<a name="l00596"></a>00596 <span class="comment">   ** from hcomp.c</span>
<a name="l00597"></a>00597 <span class="comment"> */</span>
<a name="l00598"></a>00598 
<a name="l00599"></a>00599     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a49283bf6864221f8ff15ef9e9f67643e">HCPstread</a>
<a name="l00600"></a>00600                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * rec);
<a name="l00601"></a>00601 
<a name="l00602"></a>00602     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#aa23f3f6770227687fa4ce5bdf02d5d58">HCPstwrite</a>
<a name="l00603"></a>00603                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * rec);
<a name="l00604"></a>00604 
<a name="l00605"></a>00605     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a5084ff49641ae74a33e0320c814da000">HCPseek</a>
<a name="l00606"></a>00606                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 offset, <span class="keywordtype">int</span> origin);
<a name="l00607"></a>00607 
<a name="l00608"></a>00608     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a72468bcc504394bacb262c8cbf9cc41d">HCPinquire</a>
<a name="l00609"></a>00609                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 *pfile_id, uint16 *ptag, uint16 *pref,
<a name="l00610"></a>00610                int32 *plength, int32 *poffset, int32 *pposn, int16 *paccess,
<a name="l00611"></a>00611                  int16 *pspecial);
<a name="l00612"></a>00612 
<a name="l00613"></a>00613     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a5ff3a3766bfa782f01a60c020566096c">HCPread</a>
<a name="l00614"></a>00614                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 length, <span class="keywordtype">void</span> * data);
<a name="l00615"></a>00615 
<a name="l00616"></a>00616     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a5458977e6ef1b4e4648bcdb706f1ff24">HCPwrite</a>
<a name="l00617"></a>00617                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 length, <span class="keyword">const</span> <span class="keywordtype">void</span> * data);
<a name="l00618"></a>00618 
<a name="l00619"></a>00619     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> intn <a class="code" href="hfile_8h.html#aa0ffbccab77f423f94376f57b1fdb009">HCPendaccess</a>
<a name="l00620"></a>00620                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec);
<a name="l00621"></a>00621 
<a name="l00622"></a>00622     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#ab43484b2fa73f179a98e906496a0c0f8">HCPcloseAID</a>
<a name="l00623"></a>00623                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec);
<a name="l00624"></a>00624 
<a name="l00625"></a>00625     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a0cd001633f814c402fc355317876896e">HCPinfo</a>
<a name="l00626"></a>00626                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, <a class="code" href="structsp__info__block__t.html">sp_info_block_t</a> * info_block);
<a name="l00627"></a>00627 
<a name="l00628"></a>00628     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a80bdb1610fc57bf3607a4eb5c66a5cae">get_comp_len</a>
<a name="l00629"></a>00629             (<a class="code" href="structaccrec__t.html">accrec_t</a>* access_rec);
<a name="l00630"></a>00630 
<a name="l00631"></a>00631 <span class="comment">/*</span>
<a name="l00632"></a>00632 <span class="comment">   ** from hchunks.c - should be the same as found in &#39;hchunks.h&#39;</span>
<a name="l00633"></a>00633 <span class="comment"> */</span>
<a name="l00634"></a>00634 <span class="preprocessor">#include &quot;<a class="code" href="hchunks_8h.html">hchunks.h</a>&quot;</span>
<a name="l00635"></a>00635 
<a name="l00636"></a>00636 <span class="preprocessor">#if defined (MAC) || defined (macintosh) || defined (SYMANTEC_C)</span>
<a name="l00637"></a>00637 <span class="preprocessor"></span>    <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> <a class="code" href="hfile_8h.html#aa48de1a3dd88d9ecde5967adaa2c713a">hdf_file_t</a> mopen
<a name="l00638"></a>00638                 (<span class="keywordtype">char</span> *<a class="code" href="cdjpeg_8h.html#a47b60f696fdf746577cdf42ed791c264">filename</a>, intn access);
<a name="l00639"></a>00639 
<a name="l00640"></a>00640     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 mclose
<a name="l00641"></a>00641                 (<a class="code" href="hfile_8h.html#aa48de1a3dd88d9ecde5967adaa2c713a">hdf_file_t</a> rn);
<a name="l00642"></a>00642 
<a name="l00643"></a>00643     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 mlseek
<a name="l00644"></a>00644                 (<a class="code" href="hfile_8h.html#aa48de1a3dd88d9ecde5967adaa2c713a">hdf_file_t</a> rn, int32 n, intn m);
<a name="l00645"></a>00645 
<a name="l00646"></a>00646     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 mread
<a name="l00647"></a>00647                 (<a class="code" href="hfile_8h.html#aa48de1a3dd88d9ecde5967adaa2c713a">hdf_file_t</a> rn, <span class="keywordtype">char</span> *buf, int32 n);
<a name="l00648"></a>00648 
<a name="l00649"></a>00649     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 mwrite
<a name="l00650"></a>00650                 (<a class="code" href="hfile_8h.html#aa48de1a3dd88d9ecde5967adaa2c713a">hdf_file_t</a> rn, <span class="keywordtype">char</span> *buf, int32 n);
<a name="l00651"></a>00651     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> intn mstat
<a name="l00652"></a>00652                 (<span class="keywordtype">char</span> *path);
<a name="l00653"></a>00653 
<a name="l00654"></a>00654 <span class="preprocessor">#endif  </span><span class="comment">/* macintosh */</span>
<a name="l00655"></a>00655 
<a name="l00656"></a>00656 <span class="comment">/*</span>
<a name="l00657"></a>00657 <span class="comment">   ** from hbuffer.c</span>
<a name="l00658"></a>00658 <span class="comment"> */</span>
<a name="l00659"></a>00659 
<a name="l00660"></a>00660     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a11a1287245def0999e7713673a041278">HBPstread</a>
<a name="l00661"></a>00661                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * rec);
<a name="l00662"></a>00662 
<a name="l00663"></a>00663     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#ad627a37756d012d7834018956d31613e">HBPstwrite</a>
<a name="l00664"></a>00664                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * rec);
<a name="l00665"></a>00665 
<a name="l00666"></a>00666     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a8d4ea0d33ded64dd5aebf0687fcd8ab8">HBPseek</a>
<a name="l00667"></a>00667                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 offset, <span class="keywordtype">int</span> origin);
<a name="l00668"></a>00668 
<a name="l00669"></a>00669     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a04a0c1147d13ea82fef651b2a1592d43">HBPinquire</a>
<a name="l00670"></a>00670                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 *pfile_id, uint16 *ptag, uint16 *pref,
<a name="l00671"></a>00671                int32 *plength, int32 *poffset, int32 *pposn, int16 *paccess,
<a name="l00672"></a>00672                  int16 *pspecial);
<a name="l00673"></a>00673 
<a name="l00674"></a>00674     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#ab9d51518b05a51bc0e35751f8b121494">HBPread</a>
<a name="l00675"></a>00675                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 length, <span class="keywordtype">void</span> * data);
<a name="l00676"></a>00676 
<a name="l00677"></a>00677     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a398d39baa525f1ceaf5876962a81ec13">HBPwrite</a>
<a name="l00678"></a>00678                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 length, <span class="keyword">const</span> <span class="keywordtype">void</span> * data);
<a name="l00679"></a>00679 
<a name="l00680"></a>00680     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> intn <a class="code" href="hfile_8h.html#a1ad722bac834a0d867433351e4c24744">HBPendaccess</a>
<a name="l00681"></a>00681                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec);
<a name="l00682"></a>00682 
<a name="l00683"></a>00683     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#abd0984463a443ddabe5b9d21ebfdafa5">HBPcloseAID</a>
<a name="l00684"></a>00684                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec);
<a name="l00685"></a>00685 
<a name="l00686"></a>00686     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a8d7c06009f7f772ef748321d4038c67b">HBPinfo</a>
<a name="l00687"></a>00687                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, <a class="code" href="structsp__info__block__t.html">sp_info_block_t</a> * info_block);
<a name="l00688"></a>00688 
<a name="l00689"></a>00689 <span class="comment">/*</span>
<a name="l00690"></a>00690 <span class="comment">   ** from hcompri.c</span>
<a name="l00691"></a>00691 <span class="comment"> */</span>
<a name="l00692"></a>00692 
<a name="l00693"></a>00693     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a90ee9de555d09c6b4ead1ac904122701">HRPstread</a>
<a name="l00694"></a>00694                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * rec);
<a name="l00695"></a>00695 
<a name="l00696"></a>00696     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#ac334fdf491cae760963f2e2f088a2a66">HRPstwrite</a>
<a name="l00697"></a>00697                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * rec);
<a name="l00698"></a>00698 
<a name="l00699"></a>00699     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a960a242ab2511699edf82901db0e5cc1">HRPseek</a>
<a name="l00700"></a>00700                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 offset, <span class="keywordtype">int</span> origin);
<a name="l00701"></a>00701 
<a name="l00702"></a>00702     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#ac5db3b525d6eee709457d15f3f1171d4">HRPinquire</a>
<a name="l00703"></a>00703                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 *pfile_id, uint16 *ptag, uint16 *pref,
<a name="l00704"></a>00704                int32 *plength, int32 *poffset, int32 *pposn, int16 *paccess,
<a name="l00705"></a>00705                  int16 *pspecial);
<a name="l00706"></a>00706 
<a name="l00707"></a>00707     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a26ef0e86b03107c5e93a3e99f3121af5">HRPread</a>
<a name="l00708"></a>00708                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 length, <span class="keywordtype">void</span> * data);
<a name="l00709"></a>00709 
<a name="l00710"></a>00710     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#aba9c4c2bf8ff1dbf54c45175f18c17c0">HRPwrite</a>
<a name="l00711"></a>00711                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, int32 length, <span class="keyword">const</span> <span class="keywordtype">void</span> * data);
<a name="l00712"></a>00712 
<a name="l00713"></a>00713     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> intn <a class="code" href="hfile_8h.html#aebcc28bd904298587b9f20cf967af99b">HRPendaccess</a>
<a name="l00714"></a>00714                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec);
<a name="l00715"></a>00715 
<a name="l00716"></a>00716     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a80927a4b9ff8b3d6c9e0a3fa0785634f">HRPcloseAID</a>
<a name="l00717"></a>00717                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec);
<a name="l00718"></a>00718 
<a name="l00719"></a>00719     <a class="code" href="_h4api__adpt_8h.html#a9b533dd56d2da624a301c93392980086">HDFLIBAPI</a> int32 <a class="code" href="hfile_8h.html#a1a732fd2577741a358fac13f5385bb61">HRPinfo</a>
<a name="l00720"></a>00720                 (<a class="code" href="structaccrec__t.html">accrec_t</a> * access_rec, <a class="code" href="structsp__info__block__t.html">sp_info_block_t</a> * info_block);
<a name="l00721"></a>00721 
<a name="l00722"></a>00722 <span class="comment">/*</span>
<a name="l00723"></a>00723 <span class="comment">   ** from hfiledd.c</span>
<a name="l00724"></a>00724 <span class="comment"> */</span>
<a name="l00725"></a>00725 <span class="comment">/******************************************************************************</span>
<a name="l00726"></a>00726 <span class="comment"> NAME</span>
<a name="l00727"></a>00727 <span class="comment">     HTPstart - Initialize the DD list in memory</span>
<a name="l00728"></a>00728 <span class="comment"></span>
<a name="l00729"></a>00729 <span class="comment"> DESCRIPTION</span>
<a name="l00730"></a>00730 <span class="comment">    Reads the DD blocks from disk and creates the in-memory structures for</span>
<a name="l00731"></a>00731 <span class="comment">    handling them.  This routine should only be called once for a given</span>
<a name="l00732"></a>00732 <span class="comment">    file and HTPend should be called when finished with the DD list (i.e.</span>
<a name="l00733"></a>00733 <span class="comment">    when the file is being closed).</span>
<a name="l00734"></a>00734 <span class="comment"></span>
<a name="l00735"></a>00735 <span class="comment"> RETURNS</span>
<a name="l00736"></a>00736 <span class="comment">    Returns SUCCEED if successful and FAIL otherwise</span>
<a name="l00737"></a>00737 <span class="comment"></span>
<a name="l00738"></a>00738 <span class="comment">*******************************************************************************/</span>
<a name="l00739"></a>00739 intn <a class="code" href="hfile_8h.html#a84cb0d6e272b8533a50c2d99d09af18d">HTPstart</a>(<a class="code" href="structfilerec__t.html">filerec_t</a> *file_rec       <span class="comment">/* IN:  File record to store info in */</span>
<a name="l00740"></a>00740 );
<a name="l00741"></a>00741 
<a name="l00742"></a>00742 <span class="comment">/******************************************************************************</span>
<a name="l00743"></a>00743 <span class="comment"> NAME</span>
<a name="l00744"></a>00744 <span class="comment">     HTPinit - Create a new DD list in memory</span>
<a name="l00745"></a>00745 <span class="comment"></span>
<a name="l00746"></a>00746 <span class="comment"> DESCRIPTION</span>
<a name="l00747"></a>00747 <span class="comment">    Creates a new DD list in memory for a newly created file.  This routine</span>
<a name="l00748"></a>00748 <span class="comment">    should only be called once for a given file and HTPend should be called</span>
<a name="l00749"></a>00749 <span class="comment">    when finished with the DD list (i.e.  when the file is being closed).</span>
<a name="l00750"></a>00750 <span class="comment"></span>
<a name="l00751"></a>00751 <span class="comment"> RETURNS</span>
<a name="l00752"></a>00752 <span class="comment">    Returns SUCCEED if successful and FAIL otherwise</span>
<a name="l00753"></a>00753 <span class="comment"></span>
<a name="l00754"></a>00754 <span class="comment">*******************************************************************************/</span>
<a name="l00755"></a>00755 intn <a class="code" href="hfile_8h.html#af4d70a43c1ad516a7b35544028c7218b">HTPinit</a>(<a class="code" href="structfilerec__t.html">filerec_t</a> *file_rec,       <span class="comment">/* IN: File record to store info in */</span>
<a name="l00756"></a>00756     int16 ndds                          <span class="comment">/* IN: # of DDs to store in each block */</span>
<a name="l00757"></a>00757 );
<a name="l00758"></a>00758 
<a name="l00759"></a>00759 <span class="comment">/******************************************************************************</span>
<a name="l00760"></a>00760 <span class="comment"> NAME</span>
<a name="l00761"></a>00761 <span class="comment">     HTPsync - Flush the DD list in memory</span>
<a name="l00762"></a>00762 <span class="comment"></span>
<a name="l00763"></a>00763 <span class="comment"> DESCRIPTION</span>
<a name="l00764"></a>00764 <span class="comment">    Syncronizes the in-memory copy of the DD list with the copy on disk by</span>
<a name="l00765"></a>00765 <span class="comment">    writing out the DD blocks which have changed to disk.</span>
<a name="l00766"></a>00766 <span class="comment">    </span>
<a name="l00767"></a>00767 <span class="comment"> RETURNS</span>
<a name="l00768"></a>00768 <span class="comment">    Returns SUCCEED if successful and FAIL otherwise</span>
<a name="l00769"></a>00769 <span class="comment"></span>
<a name="l00770"></a>00770 <span class="comment">*******************************************************************************/</span>
<a name="l00771"></a>00771 intn <a class="code" href="hfile_8h.html#a5ab2c6fbf69002200861df90d36602d4">HTPsync</a>(<a class="code" href="structfilerec__t.html">filerec_t</a> *file_rec       <span class="comment">/* IN:  File record to store info in */</span>
<a name="l00772"></a>00772 );
<a name="l00773"></a>00773 
<a name="l00774"></a>00774 <span class="comment">/******************************************************************************</span>
<a name="l00775"></a>00775 <span class="comment"> NAME</span>
<a name="l00776"></a>00776 <span class="comment">     HTPend - Terminate the DD list in memory</span>
<a name="l00777"></a>00777 <span class="comment"></span>
<a name="l00778"></a>00778 <span class="comment"> DESCRIPTION</span>
<a name="l00779"></a>00779 <span class="comment">    Terminates access to the DD list in memory, writing the DD blocks out to</span>
<a name="l00780"></a>00780 <span class="comment">    the disk (if they&#39;ve changed).  After this routine is called, no further</span>
<a name="l00781"></a>00781 <span class="comment">    access to tag/refs (or essentially any other HDF objects) can be performed</span>
<a name="l00782"></a>00782 <span class="comment">    on the file.</span>
<a name="l00783"></a>00783 <span class="comment"></span>
<a name="l00784"></a>00784 <span class="comment"> RETURNS</span>
<a name="l00785"></a>00785 <span class="comment">    Returns SUCCEED if successful and FAIL otherwise</span>
<a name="l00786"></a>00786 <span class="comment"></span>
<a name="l00787"></a>00787 <span class="comment">*******************************************************************************/</span>
<a name="l00788"></a>00788 intn <a class="code" href="hfile_8h.html#a8f9e11cda58880e964ac5439425a8b12">HTPend</a>(<a class="code" href="structfilerec__t.html">filerec_t</a> *file_rec       <span class="comment">/* IN:  File record to store info in */</span>
<a name="l00789"></a>00789 ); 
<a name="l00790"></a>00790 
<a name="l00791"></a>00791 <span class="comment">/******************************************************************************</span>
<a name="l00792"></a>00792 <span class="comment"> NAME</span>
<a name="l00793"></a>00793 <span class="comment">     HTPcreate - Create (and attach to) a tag/ref pair</span>
<a name="l00794"></a>00794 <span class="comment"></span>
<a name="l00795"></a>00795 <span class="comment"> DESCRIPTION</span>
<a name="l00796"></a>00796 <span class="comment">    Creates a new tag/ref pair in memory and inserts the tag/ref pair into the</span>
<a name="l00797"></a>00797 <span class="comment">    DD list to be written out to disk.  This routine returns a DD id which can</span>
<a name="l00798"></a>00798 <span class="comment">    be used in the other tag/ref routines to modify the DD.</span>
<a name="l00799"></a>00799 <span class="comment"></span>
<a name="l00800"></a>00800 <span class="comment"> RETURNS</span>
<a name="l00801"></a>00801 <span class="comment">    Returns DD id if successful and FAIL otherwise</span>
<a name="l00802"></a>00802 <span class="comment"></span>
<a name="l00803"></a>00803 <span class="comment">*******************************************************************************/</span>
<a name="l00804"></a>00804 <a class="code" href="atom_8h.html#a6ef70683ba3d54346cf3000a9c31fa96">atom_t</a> <a class="code" href="hfile_8h.html#a026eca544538237f5ec430265014fcfc">HTPcreate</a>(<a class="code" href="structfilerec__t.html">filerec_t</a> *file_rec,   <span class="comment">/* IN: File record to store info in */</span>
<a name="l00805"></a>00805     uint16 tag,                         <span class="comment">/* IN: Tag to create */</span>
<a name="l00806"></a>00806     uint16 ref                          <span class="comment">/* IN: ref to create */</span>
<a name="l00807"></a>00807 );
<a name="l00808"></a>00808 
<a name="l00809"></a>00809 <span class="comment">/******************************************************************************</span>
<a name="l00810"></a>00810 <span class="comment"> NAME</span>
<a name="l00811"></a>00811 <span class="comment">     HTPselect - Attach to an existing tag/ref pair</span>
<a name="l00812"></a>00812 <span class="comment"></span>
<a name="l00813"></a>00813 <span class="comment"> DESCRIPTION</span>
<a name="l00814"></a>00814 <span class="comment">    Attaches to an existing tag/ref pair.  This routine returns a DD id which</span>
<a name="l00815"></a>00815 <span class="comment">    can be used in the other tag/ref routines to modify the DD.</span>
<a name="l00816"></a>00816 <span class="comment"></span>
<a name="l00817"></a>00817 <span class="comment"> RETURNS</span>
<a name="l00818"></a>00818 <span class="comment">    Returns DD id if successful and FAIL otherwise</span>
<a name="l00819"></a>00819 <span class="comment"></span>
<a name="l00820"></a>00820 <span class="comment">*******************************************************************************/</span>
<a name="l00821"></a>00821 <a class="code" href="atom_8h.html#a6ef70683ba3d54346cf3000a9c31fa96">atom_t</a> <a class="code" href="hfile_8h.html#a309fb28a1fe7df1d78eabeb0a6c4e032">HTPselect</a>(<a class="code" href="structfilerec__t.html">filerec_t</a> *file_rec,   <span class="comment">/* IN: File record to store info in */</span>
<a name="l00822"></a>00822     uint16 tag,                         <span class="comment">/* IN: Tag to select */</span>
<a name="l00823"></a>00823     uint16 ref                          <span class="comment">/* IN: ref to select */</span>
<a name="l00824"></a>00824 );
<a name="l00825"></a>00825 
<a name="l00826"></a>00826 <span class="comment">/******************************************************************************</span>
<a name="l00827"></a>00827 <span class="comment"> NAME</span>
<a name="l00828"></a>00828 <span class="comment">     HTPendaccess - End access to an existing tag/ref pair</span>
<a name="l00829"></a>00829 <span class="comment"></span>
<a name="l00830"></a>00830 <span class="comment"> DESCRIPTION</span>
<a name="l00831"></a>00831 <span class="comment">    Ends access to an existing tag/ref pair.  Any further access to the tag/ref</span>
<a name="l00832"></a>00832 <span class="comment">    pair may result in incorrect information being recorded about the DD in</span>
<a name="l00833"></a>00833 <span class="comment">    memory or on disk.</span>
<a name="l00834"></a>00834 <span class="comment"></span>
<a name="l00835"></a>00835 <span class="comment"> RETURNS</span>
<a name="l00836"></a>00836 <span class="comment">    Returns SUCCEED if successful and FAIL otherwise</span>
<a name="l00837"></a>00837 <span class="comment"></span>
<a name="l00838"></a>00838 <span class="comment">*******************************************************************************/</span>
<a name="l00839"></a>00839 intn <a class="code" href="hfile_8h.html#a409ecf56e4cef7c36572ce14ac1f1801">HTPendaccess</a>(<a class="code" href="atom_8h.html#a6ef70683ba3d54346cf3000a9c31fa96">atom_t</a> ddid           <span class="comment">/* IN: DD id to end access to */</span>
<a name="l00840"></a>00840 );
<a name="l00841"></a>00841 
<a name="l00842"></a>00842 <span class="comment">/******************************************************************************</span>
<a name="l00843"></a>00843 <span class="comment"> NAME</span>
<a name="l00844"></a>00844 <span class="comment">     HTPdelete - Delete an existing tag/ref pair</span>
<a name="l00845"></a>00845 <span class="comment"></span>
<a name="l00846"></a>00846 <span class="comment"> DESCRIPTION</span>
<a name="l00847"></a>00847 <span class="comment">    Deletes a tag/ref from the file.  Also ends access to the tag/ref pair.</span>
<a name="l00848"></a>00848 <span class="comment">    Any further access to the tag/ref pair may result in incorrect information</span>
<a name="l00849"></a>00849 <span class="comment">    being recorded about the DD in memory or on disk.</span>
<a name="l00850"></a>00850 <span class="comment"></span>
<a name="l00851"></a>00851 <span class="comment"> RETURNS</span>
<a name="l00852"></a>00852 <span class="comment">    Returns SUCCEED if successful and FAIL otherwise</span>
<a name="l00853"></a>00853 <span class="comment"></span>
<a name="l00854"></a>00854 <span class="comment">*******************************************************************************/</span>
<a name="l00855"></a>00855 intn <a class="code" href="hfile_8h.html#a76f9aa1f21ca22defa6e6ece343093f4">HTPdelete</a>(<a class="code" href="atom_8h.html#a6ef70683ba3d54346cf3000a9c31fa96">atom_t</a> ddid              <span class="comment">/* IN: DD id to delete */</span>
<a name="l00856"></a>00856 );
<a name="l00857"></a>00857 
<a name="l00858"></a>00858 <span class="comment">/******************************************************************************</span>
<a name="l00859"></a>00859 <span class="comment"> NAME</span>
<a name="l00860"></a>00860 <span class="comment">     HTPupdate - Change the offset or length of an existing tag/ref pair</span>
<a name="l00861"></a>00861 <span class="comment"></span>
<a name="l00862"></a>00862 <span class="comment"> DESCRIPTION</span>
<a name="l00863"></a>00863 <span class="comment">    Updates a tag/ref in the file, allowing the length and/or offset to be</span>
<a name="l00864"></a>00864 <span class="comment">    modified. Note: &quot;INVALID_OFFSET&quot; &amp; &quot;INVALID_LENGTH&quot; are used to indicate</span>
<a name="l00865"></a>00865 <span class="comment">    that the length or offset (respectively) is unchanged.</span>
<a name="l00866"></a>00866 <span class="comment"></span>
<a name="l00867"></a>00867 <span class="comment"> RETURNS</span>
<a name="l00868"></a>00868 <span class="comment">    Returns SUCCEED if successful and FAIL otherwise</span>
<a name="l00869"></a>00869 <span class="comment"></span>
<a name="l00870"></a>00870 <span class="comment">*******************************************************************************/</span>
<a name="l00871"></a>00871 intn <a class="code" href="hfile_8h.html#ad477058f94d18686d497466be6eed3d0">HTPupdate</a>(<a class="code" href="atom_8h.html#a6ef70683ba3d54346cf3000a9c31fa96">atom_t</a> ddid,             <span class="comment">/* IN: DD id to update */</span>
<a name="l00872"></a>00872     int32 new_off,                      <span class="comment">/* IN: new offset for DD */</span>
<a name="l00873"></a>00873     int32 new_len                       <span class="comment">/* IN: new length for DD */</span>
<a name="l00874"></a>00874 );
<a name="l00875"></a>00875 
<a name="l00876"></a>00876 <span class="comment">/******************************************************************************</span>
<a name="l00877"></a>00877 <span class="comment"> NAME</span>
<a name="l00878"></a>00878 <span class="comment">     HTPinquire - Get the DD information for a DD (i.e. tag/ref/offset/length)</span>
<a name="l00879"></a>00879 <span class="comment"></span>
<a name="l00880"></a>00880 <span class="comment"> DESCRIPTION</span>
<a name="l00881"></a>00881 <span class="comment">    Get the DD information for a DD id from the DD block.  Passing NULL for</span>
<a name="l00882"></a>00882 <span class="comment">    any parameter does not try to update that parameter.</span>
<a name="l00883"></a>00883 <span class="comment"></span>
<a name="l00884"></a>00884 <span class="comment"> RETURNS</span>
<a name="l00885"></a>00885 <span class="comment">    Returns SUCCEED if successful and FAIL otherwise</span>
<a name="l00886"></a>00886 <span class="comment"></span>
<a name="l00887"></a>00887 <span class="comment">*******************************************************************************/</span>
<a name="l00888"></a>00888 intn <a class="code" href="hfile_8h.html#a65a93a20b55a5a9b931f41137c36dce4">HTPinquire</a>(<a class="code" href="atom_8h.html#a6ef70683ba3d54346cf3000a9c31fa96">atom_t</a> ddid,            <span class="comment">/* IN: DD id to inquire about */</span>
<a name="l00889"></a>00889     uint16 *tag,                        <span class="comment">/* IN: tag of DD */</span>
<a name="l00890"></a>00890     uint16 *ref,                        <span class="comment">/* IN: ref of DD */</span>
<a name="l00891"></a>00891     int32 *off,                         <span class="comment">/* IN: offset of DD */</span>
<a name="l00892"></a>00892     int32 *<a class="code" href="hproto__fortran_8h.html#a57c2695a854c02fec7173c4c067b6785">len</a>                          <span class="comment">/* IN: length of DD */</span>
<a name="l00893"></a>00893 );
<a name="l00894"></a>00894 
<a name="l00895"></a>00895 <span class="comment">/******************************************************************************</span>
<a name="l00896"></a>00896 <span class="comment"> NAME</span>
<a name="l00897"></a>00897 <span class="comment">     HTPis_special - Check if a DD id is associated with a special tag</span>
<a name="l00898"></a>00898 <span class="comment"></span>
<a name="l00899"></a>00899 <span class="comment"> DESCRIPTION</span>
<a name="l00900"></a>00900 <span class="comment">    Checks if the tag for the DD id is a special tag.</span>
<a name="l00901"></a>00901 <span class="comment"></span>
<a name="l00902"></a>00902 <span class="comment"> RETURNS</span>
<a name="l00903"></a>00903 <span class="comment">    Returns TRUE(1)/FALSE(0) if successful and FAIL otherwise</span>
<a name="l00904"></a>00904 <span class="comment"></span>
<a name="l00905"></a>00905 <span class="comment">*******************************************************************************/</span>
<a name="l00906"></a>00906 intn <a class="code" href="hfile_8h.html#a81ed7084a28bb4cc3e991b9edc60f63f">HTPis_special</a>(<a class="code" href="atom_8h.html#a6ef70683ba3d54346cf3000a9c31fa96">atom_t</a> ddid             <span class="comment">/* IN: DD id to inquire about */</span>
<a name="l00907"></a>00907 );
<a name="l00908"></a>00908 
<a name="l00909"></a>00909 <span class="comment">/******************************************************************************</span>
<a name="l00910"></a>00910 <span class="comment"> NAME</span>
<a name="l00911"></a>00911 <span class="comment">    HTPdump_dds -- Dump out the dd information for a file</span>
<a name="l00912"></a>00912 <span class="comment"></span>
<a name="l00913"></a>00913 <span class="comment"> DESCRIPTION</span>
<a name="l00914"></a>00914 <span class="comment">    Prints out all the information (that you could _ever_ want to know) about</span>
<a name="l00915"></a>00915 <span class="comment">    the dd blocks and dd list for a file.</span>
<a name="l00916"></a>00916 <span class="comment"></span>
<a name="l00917"></a>00917 <span class="comment"> RETURNS</span>
<a name="l00918"></a>00918 <span class="comment">    returns SUCCEED (0) if successful and FAIL (-1) if failed.</span>
<a name="l00919"></a>00919 <span class="comment"></span>
<a name="l00920"></a>00920 <span class="comment">*******************************************************************************/</span>
<a name="l00921"></a>00921 intn <a class="code" href="hfile_8h.html#a5f9f562a5796fe9062b11c5fac624362">HTPdump_dds</a>(int32 file_id,     <span class="comment">/* IN: file ID of HDF file to dump info for */</span>
<a name="l00922"></a>00922     FILE *fout                      <span class="comment">/* IN: file stream to output to */</span>
<a name="l00923"></a>00923 );
<a name="l00924"></a>00924 
<a name="l00925"></a>00925 <span class="preprocessor">#if defined c_plusplus || defined __cplusplus</span>
<a name="l00926"></a>00926 <span class="preprocessor"></span>}
<a name="l00927"></a>00927 <span class="preprocessor">#endif                          </span><span class="comment">/* c_plusplus || __cplusplus */</span>
<a name="l00928"></a>00928 
<a name="l00929"></a>00929 <span class="comment">/* #define DISKBLOCK_DEBUG */</span>
<a name="l00930"></a>00930 <span class="preprocessor">#ifdef DISKBLOCK_DEBUG</span>
<a name="l00931"></a>00931 <span class="preprocessor"></span>
<a name="l00932"></a>00932 <span class="preprocessor">#ifndef HFILE_MASTER</span>
<a name="l00933"></a>00933 <span class="preprocessor"></span><span class="keyword">extern</span>
<a name="l00934"></a>00934 <span class="preprocessor">#endif </span><span class="comment">/* HFILE_MASTER */</span>
<a name="l00935"></a>00935 <span class="keyword">const</span> uint8 diskblock_header[4]
<a name="l00936"></a>00936 <span class="preprocessor">#ifdef HFILE_MASTER</span>
<a name="l00937"></a>00937 <span class="preprocessor"></span>={0xde, 0xad, 0xbe, 0xef}
<a name="l00938"></a>00938 <span class="preprocessor">#endif </span><span class="comment">/* HFILE_MASTER */</span>
<a name="l00939"></a>00939 ;
<a name="l00940"></a>00940 
<a name="l00941"></a>00941 <span class="preprocessor">#ifndef HFILE_MASTER</span>
<a name="l00942"></a>00942 <span class="preprocessor"></span><span class="keyword">extern</span>
<a name="l00943"></a>00943 <span class="preprocessor">#endif </span><span class="comment">/* HFILE_MASTER */</span>
<a name="l00944"></a>00944 <span class="keyword">const</span> uint8 diskblock_tail[4]
<a name="l00945"></a>00945 <span class="preprocessor">#ifdef HFILE_MASTER</span>
<a name="l00946"></a>00946 <span class="preprocessor"></span>={0xfe, 0xeb, 0xda, 0xed}
<a name="l00947"></a>00947 <span class="preprocessor">#endif </span><span class="comment">/* HFILE_MASTER */</span>
<a name="l00948"></a>00948 ;
<a name="l00949"></a>00949 <span class="preprocessor">#define DISKBLOCK_HSIZE sizeof(diskblock_header)</span>
<a name="l00950"></a>00950 <span class="preprocessor"></span><span class="preprocessor">#define DISKBLOCK_TSIZE sizeof(diskblock_tail)</span>
<a name="l00951"></a>00951 <span class="preprocessor"></span>
<a name="l00952"></a>00952 <span class="preprocessor">#endif </span><span class="comment">/* DISKBLOCK_DEBUG */</span>
<a name="l00953"></a>00953 
<a name="l00954"></a>00954 <span class="preprocessor">#endif                          </span><span class="comment">/* HFILE_H */</span>
</pre></div></div>
</div>
<hr size="1"><address style="align: right;"><small>
<center>
MISR Toolkit - Copyright &copy 2005 - 2006 Jet Propulsion Laboratory<br>
Generated on Thu May 15 2014 10:14:23
</center></small></address>
</body>
</html>
