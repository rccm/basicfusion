<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MISR Toolkit: ReadData/src/MtkReadData.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="dir_7fe1e756b8682dad7203e0e36a8f03e9.html">ReadData</a>      </li>
      <li><a class="el" href="dir_cd42e77e935b13ccae00eb49d347e25d.html">src</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>MtkReadData.c File Reference</h1>  </div>
</div>
<div class="contents">

<p><a href="_mtk_read_data_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_misr_error_8h.html#aa94f44d7228c496af9f03555fdd1a56b">MTKt_status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_mtk_read_data_8c.html#aac28cabacb93aec076c8cd43bc355c5e">MtkReadData</a> (const char *<a class="el" href="hproto__fortran_8h.html#a0fc7094ceeee3b5d1b3bb153d36ade34">filename</a>, const char *gridname, const char *fieldname, <a class="el" href="struct_m_t_kt___region.html">MTKt_Region</a> region, <a class="el" href="struct_m_t_kt___data_buffer.html">MTKt_DataBuffer</a> *databuf, <a class="el" href="struct_m_t_kt___map_info.html">MTKt_MapInfo</a> *mapinfo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads any grid/field from any MISR product file and performs unpacking or unscaling. It also reads any MISR conventional product file.  <a href="#aac28cabacb93aec076c8cd43bc355c5e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_misr_error_8h.html#aa94f44d7228c496af9f03555fdd1a56b">MTKt_status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_mtk_read_data_8c.html#a7453eaede8ef4db112a5fdad1e720cd3">MtkReadDataFid</a> (int32 fid, const char *gridname, const char *fieldname, <a class="el" href="struct_m_t_kt___region.html">MTKt_Region</a> region, <a class="el" href="struct_m_t_kt___data_buffer.html">MTKt_DataBuffer</a> *databuf, <a class="el" href="struct_m_t_kt___map_info.html">MTKt_MapInfo</a> *mapinfo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Version of MtkReadData that takes an HDF-EOS file identifier rather than a filename.  <a href="#a7453eaede8ef4db112a5fdad1e720cd3"></a><br/></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aac28cabacb93aec076c8cd43bc355c5e"></a><!-- doxytag: member="MtkReadData.c::MtkReadData" ref="aac28cabacb93aec076c8cd43bc355c5e" args="(const char *filename, const char *gridname, const char *fieldname, MTKt_Region region, MTKt_DataBuffer *databuf, MTKt_MapInfo *mapinfo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_misr_error_8h.html#aa94f44d7228c496af9f03555fdd1a56b">MTKt_status</a> MtkReadData </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>gridname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fieldname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_m_t_kt___region.html">MTKt_Region</a>&nbsp;</td>
          <td class="paramname"> <em>region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_m_t_kt___data_buffer.html">MTKt_DataBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>databuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_m_t_kt___map_info.html">MTKt_MapInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>mapinfo</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads any grid/field from any MISR product file and performs unpacking or unscaling. It also reads any MISR conventional product file. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>MTK_SUCCESS if successful.</dd></dl>
<dl class="user"><dt><b>Example:</b></dt><dd>In this example, we read a region centered at lat 35.0, lon -115.0 with a lat extent of 110.0km and lon extent 110.0km. We read from the field <code>AveSceneElev</code> in the grid <code>Standard</code> in the file <code>MISR_AM1_AGP_P037_F01_24.hdf</code> </dd></dl>
<div class="fragment"><pre class="fragment">   <span class="keywordtype">char</span> *error_mesg[] = MTK_ERR_DESC;
   <a class="code" href="struct_m_t_kt___region.html" title="Region of interest.">MTKt_Region</a> region = MTKT_REGION_INIT;
   <a class="code" href="struct_m_t_kt___data_buffer.html" title="2-dimensional Data Buffer">MTKt_DataBuffer</a> databuf = MTKT_DATABUFFER_INIT;
   <a class="code" href="struct_m_t_kt___map_info.html" title="Map Information.">MTKt_MapInfo</a> mapinfo = MTKT_MAPINFO_INIT;
   status = <a class="code" href="_misr_set_region_8h.html#ad34f47ded5b0ee012cd887319d66ff95" title="Select region by latitude, longitude in decimal degrees, and extent in specified units of degrees...">MtkSetRegionByLatLonExtent</a>(35.0, -115.0, 110.0, 110.0, <span class="stringliteral">&quot;km&quot;</span>, &amp;region);
   status = <a class="code" href="_misr_read_data_8h.html#aac28cabacb93aec076c8cd43bc355c5e" title="Reads any grid/field from any MISR product file and performs unpacking or unscaling. It also reads any MISR conventional product file.">MtkReadData</a>(<span class="stringliteral">&quot;MISR_AM1_AGP_P037_F01_24.hdf&quot;</span>, <span class="stringliteral">&quot;Standard&quot;</span>, <span class="stringliteral">&quot;AveSceneElev&quot;</span>, region, &amp;databuf, &amp;mapinfo);
   <span class="keywordflow">if</span> (status != <a class="code" href="_misr_error_8h.html#aa94f44d7228c496af9f03555fdd1a56ba1394b2f972b5531a3db29fa8e1dcca5e">MTK_SUCCESS</a>) {
       printf(<span class="stringliteral">&quot;%s\n&quot;</span>,error_mesg[status]);
   }
</pre></div><dl class="note"><dt><b>Note:</b></dt><dd>The caller is responsible for using <a class="el" href="_misr_util_8h.html#a1132c8d00873e7601d47242f372cecb1" title="Free data buffer.">MtkDataBufferFree()</a> to free the memory used by databuf</dd>
<dd>
The MISR Toolkit read functions always return a 2-D data plane buffer. Some fields in the MISR data products are multi-dimensional. In order to read one of these fields, the slice to read needs to be specified. A bracket notation on the fieldname is used for this purpose. For example fieldname = "RetrAppMask[0][5]".</dd>
<dd>
Additional dimensions can be determined by the routine MtkFileGridFieldToDimlist() or by the MISR Data Product Specification (DPS) Document. The actually definition of the indices are not described in the MISR product files and thus not described by the MISR Toolkit. These will have to be looked up in the MISR DPS. All indices are 0-based. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>filename</em>&nbsp;</td><td>File name </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>gridname</em>&nbsp;</td><td>Grid name </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fieldname</em>&nbsp;</td><td>Field name </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>region</em>&nbsp;</td><td>Region </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>databuf</em>&nbsp;</td><td>Data buffer </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>mapinfo</em>&nbsp;</td><td>Mapinfo </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_mtk_read_data_8c_source.html#l00061">61</a> of file <a class="el" href="_mtk_read_data_8c_source.html">MtkReadData.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7453eaede8ef4db112a5fdad1e720cd3"></a><!-- doxytag: member="MtkReadData.c::MtkReadDataFid" ref="a7453eaede8ef4db112a5fdad1e720cd3" args="(int32 fid, const char *gridname, const char *fieldname, MTKt_Region region, MTKt_DataBuffer *databuf, MTKt_MapInfo *mapinfo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_misr_error_8h.html#aa94f44d7228c496af9f03555fdd1a56b">MTKt_status</a> MtkReadDataFid </td>
          <td>(</td>
          <td class="paramtype">int32&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>gridname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fieldname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_m_t_kt___region.html">MTKt_Region</a>&nbsp;</td>
          <td class="paramname"> <em>region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_m_t_kt___data_buffer.html">MTKt_DataBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>databuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_m_t_kt___map_info.html">MTKt_MapInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>mapinfo</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Version of MtkReadData that takes an HDF-EOS file identifier rather than a filename. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>MTK_SUCCESS if successful. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fid</em>&nbsp;</td><td>HDF-EOS file identifier </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>gridname</em>&nbsp;</td><td>Grid name </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fieldname</em>&nbsp;</td><td>Field name </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>region</em>&nbsp;</td><td>Region </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>databuf</em>&nbsp;</td><td>Data buffer </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>mapinfo</em>&nbsp;</td><td>Mapinfo </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_mtk_read_data_8c_source.html#l00101">101</a> of file <a class="el" href="_mtk_read_data_8c_source.html">MtkReadData.c</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="align: right;"><small>
<center>
MISR Toolkit - Copyright &copy 2005 - 2006 Jet Propulsion Laboratory<br>
Generated on Thu May 15 2014 10:14:30
</center></small></address>
</body>
</html>
